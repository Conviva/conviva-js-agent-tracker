/*!
 * Browser tracker for Conviva v1.2.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';!function(za,la){"object"==typeof exports&&"undefined"!=typeof module?la(exports):"function"==typeof define&&define.amd?define(["exports"],la):la((za="undefined"!=typeof globalThis?globalThis:za||self).convivaBrowserTracking={})}(this,function(za){function la(a){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},la(a)}function Gg(a,
  c,b,d){return new (b||(b=Promise))(function(e,g){function f(l){try{m(d.next(l))}catch(q){g(q)}}function h(l){try{m(d.throw(l))}catch(q){g(q)}}function m(l){var q;l.done?e(l.value):(q=l.value,q instanceof b?q:new b(function(p){p(q)})).then(f,h)}m((d=d.apply(a,c||[])).next())})}function Hg(a,c){function b(m){return function(l){return function(q){if(d)throw new TypeError("Generator is already executing.");for(;h;)try{if(d=1,e&&(g=2&q[0]?e.return:q[0]?e.throw||((g=e.return)&&g.call(e),0):e.next)&&!(g=
  g.call(e,q[1])).done)return g;switch(e=0,g&&(q=[2&q[0],g.value]),q[0]){case 0:case 1:g=q;break;case 4:return h.label++,{value:q[1],done:!1};case 5:h.label++;e=q[1];q=[0];continue;case 7:q=h.ops.pop();h.trys.pop();continue;default:if(!(g=h.trys,(g=0<g.length&&g[g.length-1])||6!==q[0]&&2!==q[0])){h=0;continue}if(3===q[0]&&(!g||q[1]>g[0]&&q[1]<g[3]))h.label=q[1];else if(6===q[0]&&h.label<g[1])h.label=g[1],g=q;else if(g&&h.label<g[2])h.label=g[2],h.ops.push(q);else{g[2]&&h.ops.pop();h.trys.pop();continue}}q=
  c.call(a,h)}catch(p){q=[6,p],e=0}finally{d=g=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([m,l])}}var d,e,g,f,h={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return f={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f}function Ea(a,c,b){if(b||2===arguments.length)for(var d,e=0,g=c.length;e<g;e++)!d&&e in c||(d||(d=Array.prototype.slice.call(c,0,e)),d[e]=c[e]);return a.concat(d||Array.prototype.slice.call(c))}
  function Ig(a){if(!a)return a;switch(4-a.length%4){case 2:a+="==";break;case 3:a+="="}return function(c){var b,d,e,g=0,f=0,h="",m=[];if(!c)return c;c+="";do{var l=(b=Xa.indexOf(c.charAt(g++))<<18|Xa.indexOf(c.charAt(g++))<<12|(d=Xa.indexOf(c.charAt(g++)))<<6|(e=Xa.indexOf(c.charAt(g++))))>>16&255;var q=b>>8&255;b&=255;m[f++]=64===d?String.fromCharCode(l):64===e?String.fromCharCode(l,q):String.fromCharCode(l,q,b)}while(g<c.length);return h=m.join(""),function(p){return decodeURIComponent(p.split("").map(function(n){return"%"+
  ("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(h.replace(/\0+$/,""))}(a.replace(/-/g,"+").replace(/_/g,"/"))}function zd(){var a,c={},b=[],d=[],e=[],g=function(f,h){null!=h&&""!==h&&(c[f]=h)};return{add:g,addDict:function(f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&g(h,f[h])},addJson:function(f,h,m){m&&Je(m)&&(f={keyIfEncoded:f,keyIfNotEncoded:h,json:m},d.push(f),b.push(f))},addContextEntity:function(f){e.push(f)},getPayload:function(){return c},getJson:function(){return b},
  withJsonProcessor:function(f){a=f},build:function(){return null==a||a(this,d,e),c}}}function Jg(a){return function(c,b,d){for(var e=function(l,q,p){l=JSON.stringify(l);if(a){p=c.add;if(l){var n,y=0,E=0,x=[];if(l){l=unescape(encodeURIComponent(l));do{var z=(n=l.charCodeAt(y++)<<16|l.charCodeAt(y++)<<8|l.charCodeAt(y++))>>18&63;var w=n>>12&63;var u=n>>6&63;n&=63;x[E++]=Xa.charAt(z)+Xa.charAt(w)+Xa.charAt(u)+Xa.charAt(n)}while(y<l.length);z=x.join("");l=l.length%3;l=(l?z.slice(0,l-3):z)+"===".slice(l||
  3)}l=l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}p.call(c,q,l)}else c.add(p,l)},g=function(l,q){l||(l=c.getPayload(),l=(a?l.cx:l.co)?JSON.parse(a?Ig(l.cx):l.co):void 0);return l?l.dt=l.dt.concat(q.dt):l=q,l},f=void 0,h=0;h<b.length;h++){var m=b[h];"cx"===m.keyIfEncoded?f=g(f,m.json):e(m.json,m.keyIfEncoded,m.keyIfNotEncoded)}(b.length=0,d.length)&&(f=g(f,{sc:"sp/ctx/1-0-0",dt:Ea([],d,!0)}),d.length=0);f&&e(f,"cx","co")}}function Je(a){if(!Ke(a))return!1;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,
  c))return!0;return!1}function Ke(a){return null!=a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function Kg(){var a=[],c=[],b=function(d){var e=function(m){var l=0;for(m=m.getJson();l<m.length;l++){var q=m[l];if("ue_px"===q.keyIfEncoded&&"object"===la(q.json.data)&&(q=q.json.data.schema,"string"==typeof q))return q}return""}(d),g=function(m){m=m.getPayload().e;return"string"==typeof m?m:""}(d),f=[],h=Ad(a,d,g,e);f.push.apply(f,h);d=function(m,l,q,p){var n;m=Le(m).map(function(y){if((y=
  function(E,x,z,w){if(Me(E)){var u=E[0],r=!1;try{r=u({event:x.getPayload(),eventType:z,eventSchema:w})}catch(G){r=!1}if(!0===r)return Ad(E[1],x,z,w)}else if(Ne(E)&&function(G,K){var O=0,C=0,F=G.accept;Array.isArray(F)?G.accept.some(function(N){return Lc(N,K)})&&C++:"string"==typeof F&&Lc(F,K)&&C++;F=G.reject;Array.isArray(F)?G.reject.some(function(N){return Lc(N,K)})&&O++:"string"==typeof F&&Lc(F,K)&&O++;return 0<C&&0===O?!0:!1}(E[0],w))return Ad(E[1],x,z,w);return[]}(y,l,q,p))&&0!==y.length)return y});
  return(n=[]).concat.apply(n,m.filter(function(y){return null!=y&&y.filter(Boolean)}))}(c,d,g,e);return f.push.apply(f,d),f};return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(d){for(var e=[],g=[],f=0;f<d.length;f++){var h=d[f];Oe(h)?e.push(h):Qb(h)&&g.push(h)}a=a.concat(g);c=c.concat(e)},clearGlobalContexts:function(){c=[];a=[]},removeGlobalContexts:function(d){for(var e=function(f){Oe(f)?c=c.filter(function(h){return JSON.stringify(h)!==
  JSON.stringify(f)}):Qb(f)&&(a=a.filter(function(h){return JSON.stringify(h)!==JSON.stringify(f)}))},g=0;g<d.length;g++)e(d[g])},getApplicableContexts:function(d){return b(d)}}}function Pe(a){for(var c,b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];return null!==(c=null==a?void 0:a.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,b)}catch(g){}}).filter(Boolean))&&void 0!==c?c:[]}function Qe(a){a=a.split(".");return!!(a&&1<a.length)&&function(c){if("*"===c[0]||"*"===c[1])return!1;
  if(0<c.slice(2).length){var b=!1,d=0;for(c=c.slice(2);d<c.length;d++)if("*"===c[d])b=!0;else if(b)return!1;return!0}return 2==c.length}(a)}function Re(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&Qe(a[1]))return a.slice(1,6)}function Bd(a){if(a=Re(a)){var c=a[0];return 5===a.length&&Qe(c)}return!1}function Se(a){return function(c){return Array.isArray(c)&&c.every(function(b){return"string"==
  typeof b})}(a)?a.every(function(c){return Bd(c)}):"string"==typeof a&&Bd(a)}function fc(a){return!!(Je(a)&&"sc"in a&&"dt"in a)&&"string"==typeof a.sc&&"object"===la(a.dt)}function Mc(a){return"function"==typeof a&&1>=a.length}function Qb(a){return Mc(a)||fc(a)}function Me(a){return!(!Array.isArray(a)||2!==a.length)&&(Array.isArray(a[1])?Mc(a[0])&&a[1].every(Qb):Mc(a[0])&&Qb(a[1]))}function Ne(a){return!(!Array.isArray(a)||2!==a.length)&&!!function(c){var b=0;if(null!=c&&"object"===la(c)&&!Array.isArray(c)){if(Object.prototype.hasOwnProperty.call(c,
  "accept")){if(!Se(c.accept))return!1;b+=1}if(Object.prototype.hasOwnProperty.call(c,"reject")){if(!Se(c.reject))return!1;b+=1}return 0<b&&2>=b}return!1}(a[0])&&(Array.isArray(a[1])?a[1].every(Qb):Qb(a[1]))}function Oe(a){return Me(a)||Ne(a)}function Lc(a,c){if(!Bd(a))return!1;a=Re(a);c=function(d){d=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(d);if(null!==d)return d.slice(1,6)}(c);if(a&&c){if(!function(d,e){e=e.split(".");d=d.split(".");
  if(e&&d){if(e.length!==d.length)return!1;for(var g=0;g<d.length;g++)if(!Te(e[g],d[g]))return!1;return!0}return!1}(a[0],c[0]))return!1;for(var b=1;5>b;b++)if(!Te(a[b],c[b]))return!1;return!0}return!1}function Te(a,c){return a&&c&&"*"===a||a===c}function Le(a){return Array.isArray(a)?a:[a]}function Ad(a,c,b,d){var e;a=Le(a).map(function(g){a:if(fc(g))g=[g];else{if(Mc(g)){b:{var f=void 0;try{var h=(f=g({event:c.getPayload(),eventType:b,eventSchema:d}),Array.isArray(f)&&f.every(fc)||fc(f)?f:void 0);break b}catch(m){}h=
  void 0}if(fc(h)){g=[h];break a}if(Array.isArray(h)){g=h;break a}}g=void 0}if(g&&0!==g.length)return g});return(e=[]).concat.apply(e,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function Lg(a){void 0===a&&(a={});var c=a.base64,b=a.corePlugins,d=null!=b?b:[];c=function(g,f,h){var m=function(n){return{addPluginContexts:function(y){var E=y?Ea([],y,!0):[];return n.forEach(function(x){try{x.contexts&&E.push.apply(E,x.contexts())}catch(z){ha.error("Error adding plugin contexts",z)}}),E}}}(f),
  l=Kg(),q=g,p={};return{track:function(n,y,E){n.withJsonProcessor(Jg(q));n.add("eid",sb.v4());n.addDict(p);E=function(z){return null==z?{type:"dtm",value:(new Date).getTime()}:"number"==typeof z?{type:"dtm",value:z}:"ttm"===z.type?{type:"ttm",value:z.value}:{type:"dtm",value:z.value||(new Date).getTime()}}(E);n.add(E.type,E.value.toString());y=function(z,w){z=l.getApplicableContexts(z);var u=[];return w&&w.length&&u.push.apply(u,w),z&&z.length&&u.push.apply(u,z),u}(n,m.addPluginContexts(y));y=y&&y.length?
  {sc:"sp/ctx/1-0-0",dt:y}:void 0;void 0!==y&&n.addJson("cx","co",y);f.forEach(function(z){try{z.beforeTrack&&z.beforeTrack(n)}catch(w){ha.error("Plugin beforeTrack",w)}});"function"==typeof h&&h(n);var x=n.build();return f.forEach(function(z){try{z.afterTrack&&z.afterTrack(x)}catch(w){ha.error("Plugin afterTrack",w)}}),x},addPayloadPair:function(n,y){p[n]=y},configuration:a,getConfig:function(){return a},setConfig:function(n){n&&(void 0!==n.base64&&(a.base64=n.base64,q=n.base64),void 0!==n.lifecycleAutotracking&&
  (a.lifecycleAutotracking=n.lifecycleAutotracking),void 0!==n.cacheRefreshInterval&&(a.cacheRefreshInterval=n.cacheRefreshInterval),void 0!==n.exceptionAutotracking&&(a.exceptionAutotracking=n.exceptionAutotracking),void 0!==n.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=n.enablePeriodicHeartbeat),void 0!==n.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=n.periodicHeartbeatInterval),void 0!==n.enc&&(a.enc=n.enc),void 0!==n.mend&&(a.mend=n.mend),void 0!==n.maxLocalStorageQueueSize&&
  (a.maxLocalStorageQueueSize=n.maxLocalStorageQueueSize),void 0!==n.maxGetBytes&&(a.maxGetBytes=n.maxGetBytes),void 0!==n.bufferSize&&(a.bufferSize=n.bufferSize),void 0!==n.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=n.customEventTrackingConfiguration),void 0!==n.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=n.networkRequestTrackingConfiguration),void 0!==n.traceparentconfig&&(a.traceparentconfig=n.traceparentconfig),void 0!==n.metaTagsTrackingConfiguration&&
  (a.metaTagsTrackingConfiguration=n.metaTagsTrackingConfiguration),void 0!==n.performanceContextConfig&&(a.performanceContextConfig=n.performanceContextConfig),void 0!==n.configurationVersion&&(a.configurationVersion=n.configurationVersion),void 0!==n.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=n.catRcLastUpdatedTs),void 0!==n.endpoint&&(a.endpoint=n.endpoint),void 0!==n.controlIngestConfig&&(a.controlIngestConfig=n.controlIngestConfig),void 0!==n.applicationContext&&(a.applicationContext=n.applicationContext),
  void 0!==n.emitterConfiguration&&(a.emitterConfiguration=n.emitterConfiguration),void 0!==n.di&&(a.di=n.di),void 0!==n.clickcc&&(a.clickcc=n.clickcc),void 0!==n.collectionRateLimit&&(a.collectionRateLimit=n.collectionRateLimit),void 0!==n.pageUrlTrackingConfig?a.pageUrlTrackingConfig=n.pageUrlTrackingConfig:a.pageUrlTrackingConfig=null)},getBase64Encoding:function(){return q},setBase64Encoding:function(n){q=n},addPayloadDict:function(n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(p[y]=
  n[y])},resetPayloadPairs:function(n){p=Ke(n)?n:{}},setTrackerVersion:function(n){p.tv=n},setTrackerNamespace:function(n){p.tna=n},setAppId:function(n){p.aid=n},setPlatform:function(n){p.p=n},setUserId:function(n){p.uid=n},setScreenResolution:function(n,y){p.res=n+"x"+y},setViewport:function(n,y){p.vp=n+"x"+y},setColorDepth:function(n){p.cd=n},setTimezone:function(n){p.tz=n},setLang:function(n){p.lang=n},setIpAddress:function(n){p.ip=n},setUseragent:function(n){p.ua=n},addGlobalContexts:function(n){l.addGlobalContexts(n)},
  clearGlobalContexts:function(){l.clearGlobalContexts()},removeGlobalContexts:function(n){l.removeGlobalContexts(n)}}}(null==c||c,d,a.callback);var e=fa(fa({},c),{addPlugin:function(g){var f,h;g=g.plugin;d.push(g);null===(f=g.logger)||void 0===f||f.call(g,ha);null===(h=g.activateCorePlugin)||void 0===h||h.call(g,e)}});return null==d||d.forEach(function(g){var f,h;null===(f=g.logger)||void 0===f||f.call(g,ha);null===(h=g.activateCorePlugin)||void 0===h||h.call(g,e)}),e}function Cb(a){var c=a.event;
  a=c.sc;var b=c.dt;c=zd();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:b}};return c.add("e","ue"),c.addJson("ue_px","ue_pr",a),c}function Nc(a){return Cb({event:{sc:"cv/re/1-0-1",dt:Rb({name:a.name,data:a.data})}})}function Rb(a,c){void 0===c&&(c={});var b={},d;for(d in a)(c[d]||null!==a[d]&&void 0!==a[d])&&(b[d]=a[d]);return b}function Sb(a){for(var c=a.length;0<=--c;)a[c]=0}function Cd(a,c,b,d,e){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}
  function Dd(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function fb(a,c,b,d,e){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=d;this.func=e}function Mg(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Oc;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=
  this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);tb(this.dyn_ltree);tb(this.dyn_dtree);tb(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=
  new Uint16Array(573);tb(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);tb(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function gc(a){a=this.options=Ue({level:Ng,method:Og,chunkSize:16384,windowBits:15,memLevel:8,strategy:Pg},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=
  !1;this.chunks=[];this.strm=new Ve;this.strm.avail_out=0;var c=hc.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(c!==Pc)throw Error(Db[c]);if(a.header&&hc.deflateSetHeader(this.strm,a.header),a.dictionary){var b;if(b="string"==typeof a.dictionary?Ed(a.dictionary):"[object ArrayBuffer]"===We.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary,(c=hc.deflateSetDictionary(this.strm,b))!==Pc)throw Error(Db[c]);this._dict_set=!0}}function Fd(a,c){c=new gc(c);if(c.push(a,
  !0),c.err)throw c.msg||Db[c.err];return c.result}function Qg(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=
  this.lendyn=null;this.was=this.back=this.sane=0}function ic(a){var c=this.options=Ue({chunkSize:65536,windowBits:15,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Ve;this.strm.avail_out=0;a=kb.inflateInit2(this.strm,
  c.windowBits);if(a!==jc)throw Error(Db[a]);if(this.header=new Rg,kb.inflateGetHeader(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=Ed(c.dictionary):"[object ArrayBuffer]"===Xe.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(a=kb.inflateSetDictionary(this.strm,c.dictionary))!==jc))throw Error(Db[a]);}function Gd(a,c){c=new ic(c);if(c.push(a),c.err)throw c.msg||Db[c.err];return c.result}function Hd(a){return!(!a||"string"!=typeof a.valueOf())}
  function kc(a){return Number.isInteger&&Number.isInteger(a)||"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}function Id(a){if(!Hd(a)){a=a.text||"";var c=document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function Qc(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function Ye(a){var c=a.length;return"."===a.charAt(--c)&&(a=a.slice(0,c)),"*."===a.slice(0,2)&&(a=a.slice(1)),a}function Jd(a){var c=window,b=lc("referrer",c.location.href)||lc("referer",
  c.location.href);if(b)return b;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(d){}return document.referrer}function cb(a,c,b,d){return void 0!==a&&(a.addEventListener?(a.addEventListener(c,b,d),!0):a.attachEvent?a.attachEvent("on"+c,b):void(a["on"+c]=b))}function lc(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function Rc(a,c,b){void 0===b&&(b=63072E3);try{var d=window.localStorage,
  e=Date.now()+1E3*b;return d.setItem("".concat(a,".expires"),e.toString()),d.setItem(a,c),!0}catch(g){return!1}}function Ze(a){try{var c=window.localStorage;return c.removeItem(a),c.removeItem(a+".expires"),!0}catch(b){return!1}}function Ya(a,c,b,d,e,g,f){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!=c?c:"")+(b?"; Expires="+(new Date(+new Date+1E3*b)).toUTCString():"")+(d?"; Path="+d:"")+(e?"; Domain="+e:"")+(g?"; SameSite="+g:"")+(f?"; Secure":""):decodeURIComponent((("; "+
  document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function $e(a){try{var c=null===window||void 0===window?void 0:window.localStorage;return!!c&&(c.removeItem(a),!0)}catch(b){return!1}}function Sc(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function Kd(a,c){return void 0!==a.act&&void 0!==a.act[c]&&(a=a.act[c],void 0!==a)?a:H.DEFAULT_SAMPLING_ACTION[c]}function Ma(a,c){return a.length<=c?a:a.slice(0,c-3)+"..."}function af(a,
  c,b,d){var e=[qa.request_body,qa.response_body,qa.request_headers,qa.response_headers,qa.request_query],g={};if(c&&0<c.length)for(var f=0;f<c.length;f++){var h=c[f],m=h.conditions;var l=void 0;var q=["conditions"],p={};for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&0>q.indexOf(l)&&(p[l]=h[l]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(h);n<l.length;n++)0>q.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(h,l[n])&&(p[l[n]]=
  h[l[n]])}l=p;try{a:{h=a;try{for(q=0;q<m.length;q++){var y=m[q];p=!1;if(0<Object.keys(y).length){n=0;for(var E=Object.entries(y);n<E.length;n++){var x=E[n],z=x[1],w=h[x[0]];if(0<z.length){for(var u=0,r=0,G=z;r<G.length;r++){var K=G[r],O="contains",C=K;if("object"===la(K)&&K.length?(O=K[1],C=K[0]):"boolean"!=typeof K&&null!==K||(O="equal",C=K),Sg(w,O,C)){p=!0;break}if(p=!1,u+1===z.length)break;u++}if(!1===p)break}}}if(p){var F=!0;break a}}}catch(aa){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(aa))}F=
  !1}if(F){h=0;for(var N=Object.entries(a);h<N.length;h++){var P=N[h],Q=P[0],ia=P[1];e.includes(Q)||(g[Q]=ia)}h=0;for(var T=Object.entries(l);h<T.length;h++){var da=T[h];Q=da[0];ia=da[1];try{if(ia&&0<l[Q].length){q=!1;Q!==qa.response_headers&&Q!==qa.request_headers||(q=!0);if(Q===qa.request_body){O=G=r=u=n=p=m=void 0;C=b;var U=a;void 0===C&&(C={});var pa=bf(null===(O=null==C?void 0:C.requestDetails)||void 0===O?void 0:O.headers);if(void 0!==pa&&(pa.toLowerCase().includes("text/plain")||pa.toLowerCase().includes("json")||
  pa.toLowerCase().includes("text/javascript")||pa.toLowerCase().includes("application/javascript")||pa.toLowerCase().includes("text/html"))||void 0===pa)try{if("string"==typeof(null===(G=null==C?void 0:C.requestDetails)||void 0===G?void 0:G.body)&&10240>=(null===(r=null==C?void 0:C.requestDetails)||void 0===r?void 0:r.body.length))try{U[qa.request_body]=JSON.parse(null===(u=null==C?void 0:C.requestDetails)||void 0===u?void 0:u.body)}catch(aa){}else"object"===la(null===(n=null==C?void 0:C.requestDetails)||
  void 0===n?void 0:n.body)&&10240>=JSON.stringify(null===(p=null==C?void 0:C.requestDetails)||void 0===p?void 0:p.body).length&&(U[qa.request_body]=null===(m=null==C?void 0:C.requestDetails)||void 0===m?void 0:m.body)}catch(aa){}}if(Q===qa.response_body){var oa=U=C=O=G=r=u=n=p=m=void 0,ra=void 0,ja=void 0,X=void 0,ba=void 0,Z=b,Za=a;void 0===Z&&(Z={});a:{var M=null===(ba=null==Z?void 0:Z.responseDetails)||void 0===ba?void 0:ba.headers;try{ba=void 0;m=(null!=M&&(ba=M["content-length"]||M["Content-Length"]||
  M["Content-length"]),null==ba||isNaN(ba)?ba:Number(ba));break a}catch(aa){}m=void 0}var R=bf(null===(X=null==Z?void 0:Z.responseDetails)||void 0===X?void 0:X.headers);if(void 0!==R&&(R.toLowerCase().includes("text/plain")||R.toLowerCase().includes("json")||R.toLowerCase().includes("text/javascript")||R.toLowerCase().includes("application/javascript")||R.toLowerCase().includes("text/html")))if(void 0!==m&&10240>=m)if("string"==typeof(null===(ja=null==Z?void 0:Z.responseDetails)||void 0===ja?void 0:
  ja.body))try{Za[qa.response_body]=JSON.parse(null===(ra=null==Z?void 0:Z.responseDetails)||void 0===ra?void 0:ra.body)}catch(aa){}else"object"===la(null===(oa=null==Z?void 0:Z.responseDetails)||void 0===oa?void 0:oa.body)&&(Za[qa.response_body]=null===(U=null==Z?void 0:Z.responseDetails)||void 0===U?void 0:U.body);else if(void 0===m)try{if("string"==typeof(null===(C=null==Z?void 0:Z.responseDetails)||void 0===C?void 0:C.body)&&10240>=(null===(G=null===(O=null==Z?void 0:Z.responseDetails)||void 0===
  O?void 0:O.body)||void 0===G?void 0:G.length))try{Za[qa.response_body]=JSON.parse(null===(r=null==Z?void 0:Z.responseDetails)||void 0===r?void 0:r.body)}catch(aa){}else"object"===la(null===(u=null==Z?void 0:Z.responseDetails)||void 0===u?void 0:u.body)&&10240>=JSON.stringify(null===(n=null==Z?void 0:Z.responseDetails)||void 0===n?void 0:n.body).length&&(Za[qa.response_body]=null===(p=null==Z?void 0:Z.responseDetails)||void 0===p?void 0:p.body)}catch(aa){}}Q===qa.request_query&&Tg(a,d);var V=Ug(a[Q],
  l[Q],q);0!==Object.keys(V).length&&(g[Q]=V)}}catch(aa){g[Q]=void 0}}return g}}catch(aa){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(aa))}}g=fa({},a);for(a=0;a<e.length;a++)c=e[a],null!=g&&g.hasOwnProperty(c)&&delete g[c];return g}function Sg(a,c,b){try{if("string"==typeof b&&"string"==typeof a&&"*"===b.trim())return!0;switch(c){case "==":case "equal":return a===b;case "!=":return a!==b;case ">":return a>b;case "<":return a<b;case ">=":return a>=b;case "<=":return a<=
  b;case "contains":return""!==b&&"string"==typeof a&&"string"==typeof b&&-1!==a.toLowerCase().indexOf(b.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),!1}}function Ug(a,c,b){var d={};try{for(var e=0;e<c.length;e++){var g=c[e],f=a,h=d;b&&(g=g.toLowerCase(),f=f&&Object.entries(f).reduce(function(p,n){var y=n[1];return p[n[0].toLowerCase()]=y,p},{}));for(var m=g.split("."),l=0;l<m.length;l++){var q=m[l];if(null==f||!f.hasOwnProperty(q))break;
  l===m.length-1?h[q]=f[q]:(h[q]=h[q]||{},f=f[q],h=h[q])}}}catch(p){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(p))}return d}function Tg(a,c){try{var b=null==a?void 0:a.targetUrl;if(b&&"string"==typeof b&&b.includes("?")){var d=void 0;try{var e=b.indexOf("?");if(-1===e)return;var g=b.indexOf("#",e),f=-1!==g?b.substring(e+1,g):b.substring(e+1);if(!f||f.length>(c||10240))return;d="undefined"!=typeof URLSearchParams?new URLSearchParams(f):null}catch(y){return void console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(y))}var h=
  {};if(d instanceof URLSearchParams)d.forEach(function(y,E){h[E]=y});else{c=0;for(var m=b.substring(b.indexOf("?")+1).split("&");c<m.length;c++){var l=m[c];if(l){var q=l.indexOf("="),p=0<q?decodeURIComponent(l.substring(0,q)):decodeURIComponent(l);if(p){var n=0<q&&q<l.length-1?decodeURIComponent(l.substring(q+1)):"";h[p]=n}}}}0<Object.keys(h).length&&(a[qa.request_query]=h)}}catch(y){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(y))}}function cf(a,c,b){var d,e,
  g;return"translate.googleusercontent.com"===a?(""===b&&(b=c),a=Qc(c=null!==(e=c,d=(g=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(e))&&1<(null==g?void 0:g.length)?lc("u",g[1]):null)&&void 0!==d?d:"")):"cc.bingj.com"!==a&&"webcache.googleusercontent.com"!==a||(a=Qc(c=document.links[0].href)),[a,c,b]}function mc(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=c;c=sb.v4();return a[6]=c,a[8]="",a[9]=void 0,c}function Ld(a){a[4]=Math.round((new Date).getTime()/1E3)}function Tc(a){return{activateLCPObserver:function(){try{PerformanceObserver&&
  (new PerformanceObserver(function(c){try{c.getEntries().forEach(function(b){var d;if("largest-contentful-paint"===b.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),g=void 0;e&&0<(null==e?void 0:e.length)&&(g=null===(d=e[0])||void 0===d?void 0:d.activationStart);wa=fa(fa({},b.toJSON()),{performanceNavigationActivationStart:null!=g?g:0})}})}catch(b){console.warn("convivaAppTracker error in conviva lcp observer "+b)}})).observe({type:"largest-contentful-paint",
  buffered:!0})}catch(c){console.warn("convivaAppTracker conviva_lcp failed "+c)}},contexts:function(){try{switch(a){case H.PERFORMANCE_CONTEXT.DISABLED:return[];case H.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var c,b,d;try{var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(e.getEntriesByType){var g=e.getEntriesByType("navigation")[0],f=null!==(c=null==e?void 0:e.timeOrigin)&&void 0!==c?c:0;if(!g)return[];var h={st:Math.floor(f+
  g.startTime),dls:Math.floor(f+g.domainLookupStart),dle:Math.floor(f+g.domainLookupEnd),rss:Math.floor(f+g.responseStart),rse:Math.floor(f+g.responseEnd),le:Math.floor(f+g.loadEventEnd),dur:Math.floor(f+g.duration),as:Math.floor(f+g.activationStart)};return(null==wa?void 0:wa.startTime)&&(h.lcp={rt:Math.floor(f+wa.startTime),url:128<(null===(b=null==wa?void 0:wa.url)||void 0===b?void 0:b.length)?null===(d=null==wa?void 0:wa.url)||void 0===d?void 0:d.substring(0,128):wa.url,sz:wa.size}),[{sc:"cv/pc/1-0-1",
  dt:h}]}return[]}catch(m){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:return Ea(Ea([],function(){var c=window;c=c.performance||c.mozPerformance||c.msPerformance||c.webkitPerformance;var b=c.timing;return c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:b.navigationStart,domainLookupStart:b.domainLookupStart,domainLookupEnd:b.domainLookupEnd,responseStart:b.responseStart,responseEnd:b.responseEnd,loadEventEnd:b.loadEventEnd}}]:[]}(),!0),
  function(){var c,b,d;try{if(void 0!==(null==wa?void 0:wa.startTime)&&"number"==typeof(null==wa?void 0:wa.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(wa.startTime)-(null!==(c=wa.performanceNavigationActivationStart)&&void 0!==c?c:0),url:128<(null===(b=null==wa?void 0:wa.url)||void 0===b?void 0:b.length)?null===(d=null==wa?void 0:wa.url)||void 0===d?void 0:d.substring(0,128):wa.url}}]}catch(e){}return[]}(),!0)}}catch(c){return console.warn("convivaAppTracker problem in perfromance context "+
  c),[]}}}}function Uc(a,c,b,d,e,g){var f;try{var h,m=null,l=null!==(f=g.url)&&void 0!==f?f:"";if(!l)return!0;if(Vg.some(function(y){return l.includes(y)}))return!1;var q=(h=new URL(l)).protocol.replace(":","");f=function(y,E){var x;a:{var z={scheme:q,host:h.hostname,path:decodeURIComponent(h.pathname)},w=Eb.NETWORK_REQUEST;try{for(var u=0;u<y.length;u++){var r=y[u],G=r.opt;if(Tb(r.req,z,w)){var K=!0;var O=G||null;break a}}K=!1;O=null}catch(C){K=!1,O=null}}return K?O?Tb(O,{responseStatusCode:null!==
  (x=null==e?void 0:e.status)&&void 0!==x?x:0,duration:Date.now()-g.requestTimestamp},Eb.NETWORK_REQUEST)===E:E:null};if(a&&null===m&&(m=f(a,!0)),c&&null===m&&(m=f(c,!1)),null===m){var p=(null==b?void 0:b.includes("*"))||(null==b?void 0:b.some(function(y){return!(!y||""===y)&&l.includes(y)})),n=null==d?void 0:d.some(function(y){return!(!y||""===y)&&l.includes(y)});m=!p||n}return!0===m}catch(y){return!0}}function Tb(a,c,b){try{if(!a)return!1;if("and"===a.type){for(var d=0,e=a.cond;d<e.length;d++)if(!Tb(e[d],
  c,b))return!1;return!0}if("or"===a.type){e=0;for(d=a.cond;e<d.length;e++)if(Tb(d[e],c,b))return!0;return!1}return b===Eb.NETWORK_REQUEST?function(g,f){var h=g.key,m=g.op;g=g.val;if(!h||!m)return!1;switch(h){case "sch":return!!f.scheme&&Vc(f.scheme,m,g);case "host":return!!f.host&&Vc(f.host,m,g);case "path":return!!f.path&&Vc(f.path,m,g);case "dur":return!!f.duration&&Md(f.duration,m,g);case "rsc":return void 0!==f.responseStatusCode&&0<=f.responseStatusCode&&Md(f.responseStatusCode,m,g);default:return!1}}(a,
  c):b===Eb.CUSTOM_EVENT&&function(g,f){var h=g.key,m=g.op;g=g.val;if(!h||!m)return!1;if(void 0!==f[h]){if(Hd(f[h]))return Vc(f[h],m,g);if("boolean"==typeof f[h])switch(f=f[h],m){case "!=":return f!==g;case "==":return f===g;default:return!1}if(Number.isInteger(f[h]))return Md(f[h],m,g)}return!1}(a,c)}catch(g){return!1}}function Vc(a,c,b){var d;return"=="===c&&Array.isArray(b)?!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a===e}):"contains"===c&&Array.isArray(b)?!!(d=b).includes("*")||
  d.some(function(e){return!(!e||""===e)&&a.includes(e)}):"sw"===c&&Array.isArray(b)?!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a.startsWith(e)}):!("ew"!==c||!Array.isArray(b))&&(!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a.endsWith(e)}))}function Md(a,c,b){if("in"===c.toLowerCase()&&Array.isArray(b))return b.includes(a);if("range"===c.toLowerCase()&&"object"===la(b)){c=b.min;var d=b.max,e=b.minExclusive;b=b.maxExclusive;return void 0!==c&&void 0!==d?a>=c&&a<=
  d:void 0!==e&&void 0!==b&&a>e&&a<b}if(kc(b))switch(c){case "!=":return a!==b;case ">":return a>b;case ">=":return a>=b;case "<":return a<b;case "<=":return a<=b;case "==":return a===b}return!1}function df(a,c,b){var d=null;a:{for(var e=0;e<a.length;e++){var g=a[e];var f=g.opt;if(Tb(g.req,c,b)){a=!0;f=f||null;break a}}a=!1;f=null}a&&(d=!f||!!Tb(f,c,b));return d}function Aa(a,c,b){var d,e;try{if(a&&c){var g=null==a?void 0:a.getConfig(),f=function(h,m,l){var q,p,n,y={message:""};try{var E=l.message,
  x=l.error,z=l.className,w=l.extraData;if(E)y.message=E;else if("string"==typeof x){if(!(0<x.trim().length))return ha.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;y.message=x}else"object"===la(x)&&("string"==typeof x.message&&0<x.message.trim().length&&(y.message=Ma(x.message,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof x.name&&0<x.name.trim().length&&(y.exceptionName=Ma(x.name,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof x.stack&&
  0<x.stack.trim().length&&(y.stackTrace=Ma(x.stack,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===y.message.trim().length)return ha.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;"string"==typeof z&&0<z.trim().length&&(y.className=Ma(z,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));null!=w&&(y.extraData=w);var u=null==h?void 0:h.getConfig();if((null==u?void 0:u.configurationVersion)&&(y.remoteConfigVersion=u.configurationVersion),(null==l?void 0:l.configAppliedTime)&&
  (y.configAppliedTime=null==l?void 0:l.configAppliedTime),(null==u?void 0:u.cacheRefreshInterval)&&(y.cacheRefreshInterval=u.cacheRefreshInterval),(null==l?void 0:l.configAppliedSrc)&&(y.configAppliedSrc=null==l?void 0:l.configAppliedSrc),localStorage){var r=localStorage.getItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=r&&(y.samplingRandomNumber=parseFloat(r))}"number"==typeof(null===(p=null===(q=null==u?void 0:u.controlIngestConfig)||void 0===q?void 0:q.sel)||void 0===p?void 0:p.pct)?(y.samplingPercentage=
  u.controlIngestConfig.sel.pct,y.samplingDecision=H.SAMPLING_STATUS.DERIVED,null!=la(null===(n=null==u?void 0:u.controlIngestConfig)||void 0===n?void 0:n.act)&&(y.extraData=fa(fa({},y.extraData),{samplingActionConfig:u.controlIngestConfig.act}))):y.samplingDecision=H.SAMPLING_STATUS.DEFAULT;"function"==typeof m&&"string"==typeof m()&&(y.samplingStatus=m()==H.SAMPLING_MODES.RCFG)}catch(G){return ha.warn("Error occurred while generating diagnostic object",G),null}return y}(a,c,b);f&&function(h){var m;
  try{var l=null==h?void 0:h.getConfig(),q=(null===(m=null==l?void 0:l.di)||void 0===m?void 0:m.lim)||10,p=Date.now();return 6E4<=p-ef&&(ff=0,ef=p),!(++ff>q)}catch(n){return ha.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",n),!1}}(a)&&("boolean"!=typeof(null===(d=null==g?void 0:g.di)||void 0===d?void 0:d.en)||!0!==(null===(e=null==g?void 0:g.di)||void 0===e?void 0:e.en)||null!=a&&a.track(Cb({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:Rb({msg:f.message,
  cn:f.className,st:f.stackTrace,en:f.exceptionName,ed:f.extraData,rcv:f.remoteConfigVersion,cat:f.configAppliedTime,cri:f.cacheRefreshInterval,csrc:f.configAppliedSrc,srn:f.samplingRandomNumber,spr:f.samplingPercentage,ss:f.samplingStatus,sd:f.samplingDecision})}})))}}catch(h){ha.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",h)}}function gf(){var a,c,b=null===(a=null==Ba?void 0:Ba.core)||void 0===a?void 0:a.getConfig();nc=(null==(nc=(null===(c=null==b?void 0:b.clickcc)||
  void 0===c?void 0:c.cssSelectorList)||nc)?void 0:nc.replace(/\s+/g,""))||""}function hf(a,c){if(!(a instanceof HTMLElement||a instanceof SVGElement))return null;var b=null==a?void 0:a.closest(jf);if(b)return b;if(b=null==a?void 0:a.closest(nc))return function(e,g){var f;e=e.querySelectorAll(jf);if(0===e.length)return null;if(1===e.length&&0<e[0].offsetWidth&&0<e[0].offsetHeight)return e[0];var h=g.clientX;g=g.clientY;if(e.length<=("IntersectionObserver"in window&&"fetch"in window&&"Promise"in window?
  H.MAX_NATIVE_SCAN:H.MAX_NATIVE_SCAN_LEGACY))for(var m=0;m<e.length;m++){var l=null===(f=e[m])||void 0===f?void 0:f.getBoundingClientRect();if(l&&h>=l.left&&h<=l.right&&g>=l.top&&g<l.bottom)return e[m]}return null}(b,c)||b;c=a;b=0;var d=H.CLICK_MAX_DEPTH;if(function(e){if(e.style){if(e.style.visibility&&""!==e.style.visibility&&"hidden"==e.style.visibility||e.style.pointerEvents&&""!==e.style.pointerEvents&&"none"==e.style.pointerEvents)return!1;if(e.style.cursor&&""!==e.style.cursor&&"pointer"==e.style.cursor)return!0}e=
  getComputedStyle(e);return"hidden"!==e.visibility&&"none"!==e.pointerEvents&&"pointer"===e.cursor}(c)){for(;c&&c!==document.documentElement&&(c instanceof HTMLElement||c instanceof SVGElement)&&b<d;){if("function"==typeof c.onclick)return c;c=c.parentElement;b++}return a.closest(Wg)||a}return null}function Xg(a){var c,b,d,e,g,f,h;try{var m=function(G,K){var O,C;try{if(!Ba||!Ba.core||!G)return null;var F=Ba.core.getConfig();if(!0!==(null===(O=null==F?void 0:F.clickcc)||void 0===O?void 0:O.en))return null;
  var N=null===(C=null==F?void 0:F.clickcc)||void 0===C?void 0:C.uiMode;return N===oc.RAW?G:N===oc.BOTH?hf(G,K)||G:hf(G,K)}catch(P){return ha.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",P),null}}(function(G){var K,O,C;return(null===(K=G.target)||void 0===K?void 0:K.shadowRoot)&&(C=null===(O=G.composedPath)||void 0===O?void 0:O.call(G)),C&&C[0]||G.target}(a),a);if(m&&(m instanceof HTMLElement||m instanceof HTMLInputElement)){a={};var l=H.CLICK_KEY_MAX_LENGTH;
  (null==m?0:m.id)&&(a.id=Ma(m.id,l));(null==m?0:m.className)&&(a.class=Ma(m.className,l));(null==m?0:m.tagName)&&(a.elementName=Ma(m.tagName.toLowerCase(),l));(null===(c=null==m?void 0:m.innerText)||void 0===c?0:c.trim())&&(a.text=Ma(m.innerText.trim(),l));(null==m?0:m.getAttribute("name"))&&(a.name=Ma(m.getAttribute("name")||"",l));(null==m?0:m.getAttribute("type"))&&(a.elementType=Ma((null===(b=m.getAttribute("type"))||void 0===b?void 0:b.toLowerCase())||"",l));(null==m?0:m.placeholder)&&(a.placeholder=
  Ma(m.placeholder,l));(null==m?0:m.getAttribute("type"))&&"password"!==(null==m?void 0:m.getAttribute("type"))&&m.value&&(a.value=Ma(m.value,l));var q=null===(d=null==Ba?void 0:Ba.core)||void 0===d?void 0:d.getConfig(),p=null===(e=null==q?void 0:q.clickcc)||void 0===e?void 0:e.collectattr;if(p)for(c=0;c<p.length;c++){var n=p[c],y=null==m?void 0:m.getAttribute(n);y&&(a[n]=Ma(y,l))}try{if("A"===m.tagName.toUpperCase()||"AREA"===m.tagName.toUpperCase()){if(null!=m.href){var E=m.hostname||Qc(m.href),x=
  E.toLowerCase(),z=m.href.replace(E,x);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(z)||(a.targetUrl=Ma(decodeURIComponent(z),l))}m.target&&(a.target=Ma(m.target,l))}}catch(G){ha.warn("Conviva App Tracker caused Exception in handleClick href setting",G)}var w=null===(g=m.querySelector("use"))||void 0===g?void 0:g.getAttribute("xlink:href");w&&(a["xlink:href"]=Ma(w,l));var u=null!==(f=null==q?void 0:q.clickcc)&&void 0!==f?f:{},r=function(G,K,O){var C=G.collect,F=G.block;
  G=null;if(C&&(G=df(C,K,O)),F&&null===G)K=df(F,K,O),"boolean"==typeof K&&(G=!K);return null===G||G}({collect:u.collect,block:u.block},a,Eb.CUSTOM_EVENT);if("boolean"!=typeof r||!1!==r)null===(h=null==Ba?void 0:Ba.core)||void 0===h||h.track(Nc({name:"conviva_click",data:JSON.stringify(a)}))}}catch(G){return void ha.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",G)}}function kf(a){try{var c=Date.now(),b=H.CLICK_DEBOUNCING_DELAY;null===Nd||c-Nd>=b?((Xg(a),
  0<Wc)&&Aa(Ba.core,Ba.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:Wc}}),Wc=0):Wc++;Nd=c}catch(d){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",d)}}function Yg(){try{pc||"undefined"==typeof document||(document.body?(Fb=kf,cb(document.body,"click",Fb,{signal:$a,capture:!0,passive:!0}),pc=!0):document.addEventListener("DOMContentLoaded",
  function(){(null===document||void 0===document?0:document.body)&&(Fb=kf,cb(document.body,"click",Fb,{signal:$a,capture:!0,passive:!0}),pc=!0)}),gf(),(null===window||void 0===window?void 0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){gf()},{signal:$a}))}catch(a){ha.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",a)}}function lf(){try{pc&&"undefined"!=typeof document&&document.body&&(Fb&&(document.body.removeEventListener("click",
  Fb),Fb=null),pc=!1)}catch(a){ha.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",a)}}function mf(a,c){return!c||(b=a,c.key.split(".").reduce(function(d,e){return d?d[e]:void 0},b))===c.value;var b}function Zg(a){var c={data:""},b=0;for(a=a.split(/\n+/);b<a.length;b++){var d=a[b];if(d&&!d.startsWith(":")){var e=d.indexOf(":"),g=(-1===e?d:d.slice(0,e)).trim();d=-1===e?"":d.slice(e+1).replace(/^\s+/,"");switch(g){case "data":c.data+=(c.data?
  "\n":"")+d;break;case "event":c.event=d;break;case "id":c.id=d}}}return c.data?c:null}function $g(){try{var a=!!window.localStorage}catch(b){a=!0}if(!a)return!1;try{var c=window.localStorage;return c.setItem("modernizr","modernizr"),c.removeItem("modernizr"),!0}catch(b){return!1}}function ah(a,c,b,d,e,g,f,h,m,l,q,p,n,y,E,x,z,w,u){function r(M){var R=Object.keys(M).map(function(V){return[V,M[V]]}).reduce(function(V,aa){return V[aa[0]]=aa[1].toString(),V},{});return{evt:R,bytes:G(JSON.stringify(R))}}
  function G(M){for(var R=0,V=0;V<M.length;V++){var aa=M.charCodeAt(V);127>=aa?R+=1:2047>=aa?R+=2:55296<=aa&&57343>=aa?(R+=4,V++):R+=65535>aa?3:4}return R}function K(M,R){R=F(R,!0,!1);M=N(P([M.evt]));try{E().toLowerCase()!==lb.NONE&&(M=nf.gzip(M,{level:6}),R.setRequestHeader("Content-Encoding",lb.GZIP))}catch(V){}u()!==H.SAMPLING_MODES.NONE&&R.send(M)}function O(M){try{if("undefined"!=typeof window&&void 0!==window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var R=
  N(P(M));window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(R)}}catch(V){ha.warn("Error occured while sending message to Visual Labelling Extension",V)}}function C(M){for(void 0===M&&(M=!1);U.length&&"string"!=typeof U[0]&&"object"!==la(U[0]);)U.shift();if(1>U.length)da=!1;else{if(!Hd(ia))throw"No collector configured";if(da=!0,window.clearTimeout(pa),pa=-1,ja){var R,V=void 0,aa=void 0;"object"===la(U[0])?(R=F(V=ia,!0,M),aa=function(ua){for(var Ca=0,mb=0;Ca<ua.length&&!((mb+=ua[Ca].bytes)>=
  z());)Ca+=1;return Ca}(U)):(V=Q(U[0]),R=F(V,!1,M),aa=1);var Ia=setTimeout(function(){R.abort();da=!1},l);if(R.onreadystatechange=function(){4===R.readyState&&(clearTimeout(Ia),200<=R.status&&300>R.status?C():(ha.error("Status ".concat(R.status,", will not retry.")),da=!1))},"object"===la(U[0])){var Na=U.slice(0,aa);if(0<Na.length){M=!1;Na=Na.map(function(ua){return ua.evt});if(ra){var Oa=new Blob([N(P(Na))],{type:"application/json"});try{M=navigator.sendBeacon(V,Oa)}catch(ua){M=!1}}if(!0===M)C();
  else{V=N(P(Na));try{E().toLowerCase()!==lb.NONE&&(V=nf.gzip(V,{level:6}),R.setRequestHeader("Content-Encoding",lb.GZIP))}catch(ua){}try{u()!==H.SAMPLING_MODES.NONE&&R.send(V)}catch(ua){}}}}else R.send();!function(ua){for(var Ca=0;Ca<ua;Ca++)U.shift();b&&Rc(Z,JSON.stringify(U.slice(-1*m())))}(aa)}else if(q||"object"===la(U[0]))da=!1;else{aa=new Image(1,1);var Ua=!0;aa.onload=function(){Ua&&(Ua=!1,U.shift(),b&&Rc(Z,JSON.stringify(U.slice(-1*m()))),C())};aa.onerror=function(){Ua&&(Ua=!1,da=!1)};aa.src=
  Q(U[0]);setTimeout(function(){Ua&&da&&(Ua=!1,C())},l)}}}function F(M,R,V){var aa=new XMLHttpRequest,Ia;for(Ia in R?(aa.open("POST",M,!V),aa.setRequestHeader("Content-Type","application/json; charset=UTF-8")):aa.open("GET",M,!V),aa.withCredentials=n,q&&aa.setRequestHeader("SP-Anonymous","*"),p)Object.prototype.hasOwnProperty.call(p,Ia)&&aa.setRequestHeader(Ia,p[Ia]);return aa}function N(M){return JSON.stringify({sc:"sp/pd/1-0-4",dt:M})}function P(M){for(var R=(new Date).getTime().toString(),V=0;V<
  M.length;V++)M[V].stm=R;return M}function Q(M){return h?ia+M.replace("?","?stm="+(new Date).getTime()+"&"):ia+M}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){C()},{signal:$a});var ia,T,da=!1,U=[],pa=-1,oa=!0===(d="string"==typeof d?d.toLowerCase():d)||"beacon"===d||"true"===d,ra=!(!(oa&&window.navigator&&window.navigator.sendBeacon)||function(M,R){R=R.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return!(!R||!R.length)&&
  parseInt(R[0])<=M}(13,T=window.navigator.userAgent)||function(M,R,V){V=V.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/");return!(!V||!V.length)&&(parseInt(V[2])<=M||parseInt(V[2])===M&&parseInt(V[3])<=R)}(10,15,T)&&function(M){return/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(M)&&!/(Chrome|Chromium|Edg|OPR)/.test(M)}(T))&&oa,ja=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),X="get"!==d&&ja&&("post"===d||oa),ba=X?e:"/i";d="convivaOutQueue_".concat(a,
  "_").concat(X?"post2":"get");var Z="convivaOutQueue_".concat(a,"_").concat(X?"post2":"get");if($e(d),$e("".concat(d,".expires")),oa&&(p={}),g=b&&$g()&&X&&g||1,b)try{var Za=window.localStorage.getItem(Z);U=Za?JSON.parse(Za):[]}catch(M){}Array.isArray(U)||(U=[]);c.outQueues.push(U);ja&&1<g&&c.bufferFlushers.push(function(M){da||C(M)});return{enqueueRequest:function(M,R,V){if(u()!=H.SAMPLING_MODES.NONE){ia=R+ba;if(X){O([(M=r(M)).evt]);R=z();if(M.bytes>=R)return da||C(),ha.warn("Event ("+M.bytes+"B) too big, max is "+
  R),void K(M,ia);U.push(M)}else{var aa=function(ua){var Ca="?",mb={co:!0,cx:!0},Ub=!0,nb;for(nb in ua)ua.hasOwnProperty(nb)&&!mb.hasOwnProperty(nb)&&(Ub?Ub=!1:Ca+="&",Ca+=encodeURIComponent(nb)+"="+encodeURIComponent(ua[nb]));for(var ub in mb)ua.hasOwnProperty(ub)&&mb.hasOwnProperty(ub)&&(Ca+="&"+ub+"="+encodeURIComponent(ua[ub]));return Ca}(M),Ia=f();if(0<Ia){var Na=G(Q(aa));if(Na>=Ia){if(ha.warn("Event ("+Na+"B) too big, max is "+Ia),ja)O([(M=r(M)).evt]),K(M,R+e);return}}U.push(aa)}R=!1;b&&(R=Rc(Z,
  JSON.stringify(U.slice(-1*m()))));!da&&-1===pa&&R&&(pa=window.setTimeout(C,w()+(Ua=y,Math.floor(Math.random()*Ua))));da||!(!R||!x()||X&&(Oa=0,Oa=X?U.reduce(function(ua,Ca){return ua+Ca.bytes},0):U.reduce(function(ua,Ca){return ua+Ca.length},0),Oa>z())||U.length>g||V)||C()}var Oa,Ua},executeQueue:function(){da||C()},setUseLocalStorage:function(M){b=M},setAnonymousTracking:function(M){q=M},setCollectorUrl:function(M){ia=M+ba},setBufferSize:function(M){g=M},setCustomHeaders:function(M){p=M}}}function bh(){(null===
  window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var a,c,b,d,e,g,f,h=null===(a=null==Sa?void 0:Sa.core)||void 0===a?void 0:a.getConfig();a=null===(b=null===(c=null==h?void 0:h.collectionRateLimit)||void 0===c?void 0:c.exceptionAutotracking)||void 0===b?void 0:b.maxEvents;c=null===(e=null===(d=null==h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration;d=null===(f=null===
  (g=null==h?void 0:h.collectionRateLimit)||void 0===g?void 0:g.exceptionAutotracking)||void 0===f?void 0:f.timeWindow;null==Gb||Gb.updateErrortRateLimitConfig(a,c,d);!0},{signal:$a})}function ch(a){try{Sa=a;var c,b,d,e,g,f,h;try{var m=null===(c=null==Sa?void 0:Sa.core)||void 0===c?void 0:c.getConfig(),l=null===(d=null===(b=null==m?void 0:m.collectionRateLimit)||void 0===b?void 0:b.exceptionAutotracking)||void 0===d?void 0:d.maxEvents,q=null===(g=null===(e=null==m?void 0:m.collectionRateLimit)||void 0===
  e?void 0:e.exceptionAutotracking)||void 0===g?void 0:g.disconnectDuration,p=null===(h=null===(f=null==m?void 0:m.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===h?void 0:h.timeWindow;Gb=new dh(l,q,p,null==Sa?void 0:Sa.core,null==Sa?void 0:Sa.getSamplingMode)}catch(n){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",n)}bh();cb(window,"error",of,!0);cb(window,"unhandledrejection",pf,!0)}catch(n){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",
  n)}}function of(a){try{(null==Gb?0:Gb.isAllowedToSendEvent())&&Od({message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,error:a.error})}catch(c){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",c)}}function pf(a){try{(null==Gb?0:Gb.isAllowedToSendEvent())&&Od({message:a.reason})}catch(c){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",c)}}function Od(a){var c,b,d=a.message,e=a.filename,
  g=a.lineno,f=a.colno,h=a.error,m=a.context;a=a.timestamp;h=h&&h.stack?h.stack:void 0;if(!(void 0===d||null===d&&void 0===h||null===h&&void 0===g||null===g&&void 0===f||null===f&&void 0===e||null===e)){var l=null===(c=null==Sa?void 0:Sa.core)||void 0===c?void 0:c.getConfig();(null==l?0:l.exceptionAutotracking)&&(null===(b=null==Sa?void 0:Sa.core)||void 0===b||b.track(Cb({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:d?qf(d,2048):"JS Exception.",stackTrace:h?qf(h,8192):"",lineNumber:g,
  lineColumn:f,fileName:e}}}),m,a))}}function eh(a){var c;try{var b=0,d=0;if("complete"===document.readyState){var e=null===(c=null==a?void 0:a.core)||void 0===c?void 0:c.getConfig();null==a||a.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:Tc(null==e?void 0:e.performanceContextConfig).contexts()})}else null===window||void 0===window||window.addEventListener("load",function(){var g;try{var f=null===(g=null==a?void 0:a.core)||void 0===g?void 0:g.getConfig();null==a||a.trackCustomEvent({name:"conviva_window_loaded",
  data:"{}",context:Tc(null==f?void 0:f.performanceContextConfig).contexts()})}catch(h){console.warn("ConvivaAppTracker : issue while registering window loaded event",h)}},{signal:$a});null===document||void 0===document||document.addEventListener("visibilitychange",function(){var g,f;try{if((null==a?void 0:a.getSamplingMode())!==H.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var m,l;try{var q=null===(m=null==a?void 0:a.core)||void 0===m?void 0:m.getConfig();d++;(null==
  q?0:q.lifecycleAutotracking)&&(null===(l=null==a?void 0:a.core)||void 0===l||l.track(Cb({event:{sc:"sp/abg/1-0-0",dt:Rb({backgroundIndex:d})}})));"hidden"!==document.visibilityState||(null==a?0:a.getPageViewSent())||null==a||a.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(p){console.warn("ConvivaAppTracker : issue while tracking visibility change",p)}},0);else{var h=null===(g=null==a?void 0:a.core)||void 0===g?void 0:g.getConfig();b++;(null==h?0:h.lifecycleAutotracking)&&
  (null===(f=null==a?void 0:a.core)||void 0===f||f.track(Cb({event:{sc:"sp/afg/1-0-0",dt:Rb({foregroundIndex:b})}})))}}catch(m){console.warn("convivaAppTracker visibilitychange failed "+m)}},{signal:$a});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(g){g&&a&&(null==a?void 0:a.getSamplingMode())!==H.SAMPLING_MODES.NONE&&(null==a||a.trackVideoEvent(g))},{signal:$a})}catch(g){console.warn("convivaAppTracker error in page load metrics"+
  g)}}function fh(a,c,b,d,e){void 0===e&&(e={});var g=[];a=function(h,m,l,q,p){function n(){(Vb=cf(window.location.hostname,window.location.href,Jd()))[1]!==ob&&(qc=Jd(ob));rf=Ye(Vb[0]);ob=Vb[1]}function y(k){try{var t=(new Date).getTime(),v=k.currentTarget;if(null==v?0:v.href){k="_cnv="+(Xc+"."+t);var A=v.href.split("#"),D=A[0].split("?"),L=D.shift(),I=D.join("?");if(I){D=!0;var J=I.split("&");for(t=0;t<J.length;t++)if("_cnv="===J[t].substr(0,5)){D=!1;J[t]=k;I=J.join("&");break}D&&(I=k+"&"+I)}else I=
  k;var B=(A[0]=L+"?"+I,A.join("#"));v.href=B}}catch(S){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(S))}}function E(k){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var t=0;t<document.links.length;t++){var v=document.links[t];!v.spDecorationEnabled&&k(v)&&(cb(v,"click",y,!0),cb(v,"mousedown",y,!0),v.spDecorationEnabled=!0)}}function x(k){var t;return sf&&(t=/#.*/,k=k.replace(t,"")),tf&&(t=/[{}]/g,k=k.replace(t,"")),k}function z(k){return(k=
  /^([a-z]+):/.exec(k))?k[1]:null}function w(k){k=Wb+k+"."+Hb;if("localStorage"==Ja)try{var t=window.localStorage,v=t.getItem(k+".expires");var A=null===v||+v>Date.now()?t.getItem(k):(t.removeItem(k),void t.removeItem(k+".expires"))}catch(D){A=void 0}else A="cookie"==Ja||"cookieAndLocalStorage"==Ja?Ya(k):void 0;return A}function u(){n();Hb=gh((rc||rf)+(Pd||"/")).slice(0,4)}function r(){Qd=(new Date).getTime()}function G(){var k=K(),t=k[0];t<Yc?Yc=t:t>Zc&&(Zc=t);k=k[1];k<$c?$c=k:k>ad&&(ad=k);!0;r()}
  function K(){var k="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return k?[k.scrollLeft||window.pageXOffset,k.scrollTop||window.pageYOffset]:[0,0]}function O(){var k=K(),t=k[0];Zc=Yc=t;ad=$c=k=k[1]}function C(){N(Wb+"ses."+Hb,"*",uf)}function F(k){var t=Wb+"id."+Hb;k=(k.shift(),k.join("."));N(t,k,vf)}function N(k,t,v){sc&&!bd||("localStorage"==Ja?Rc(k,t,v):"cookie"!=Ja&&"cookieAndLocalStorage"!=Ja||Ya(k,t,v,Pd,rc,cd,dd))}function P(k){var t=
  Wb+"id."+Hb,v=Wb+"ses."+Hb;Ze(t);Ze(v);Ya(t,"",-1,"/",rc,cd,dd);Ya(v,"",-1,"/",rc,cd,dd);(null==k?0:k.preserveSession)||(Ib=sb.v4(),gb=1);(null==k?0:k.preserveUser)||(Xc=sb.v4(),Jb=null)}function Q(k){k&&k.stateStorageStrategy&&(p.stateStorageStrategy=k.stateStorageStrategy,Ja=wf(p));sc=!!p.anonymousTracking;bd=xf(p);Rd=yf(p);pb.setUseLocalStorage("localStorage"==Ja||"cookieAndLocalStorage"==Ja);pb.setAnonymousTracking(Rd)}function ia(){if(function(){try{var v=window.localStorage.getItem("Conviva.sdkConfig");
  if(!v){var A=function(L){try{var I=Ya(L);return I&&0<I.length?decodeURIComponent(I):window.localStorage.getItem(L)}catch(J){return ha.warn("getConvivaCookie",J),null}}("Conviva_sdkConfig");A&&(v=A)}var D=JSON.parse(v||"{}");"{}"===D||void 0===D?(tc=oa(),ed=ra()):(tc=D.clId||oa(),2147483648<=fd?fd=-1:fd++,ed=ra());(function(L){try{var I=null;try{I=JSON.stringify(L)}catch(xa){return}window.localStorage.setItem("Conviva.sdkConfig",I);try{var J=encodeURIComponent(I);var B=window.location.hostname,S=B.split(".");
  var ma=2<=S.length?"."+S.slice(-2).join("."):B;Ya("Conviva_sdkConfig",J,void 0,"/",ma,"None",!0)}catch(xa){ha.warn("setConvivaCookie",xa)}}catch(xa){}})(fa(fa({},D),{clId:tc,iid:ed}))}catch(L){return void ha.warn("getEventIndexByClid",L)}}(),!sc||bd){var k="none"!=Ja&&!!w("ses"),t=T();Xc=function(v,A){var D;return v[1]?D=v[1]:A?(D="",v[1]=D):(D=sb.v4(),v[1]=D),D}(t,sc);Ib=k?t[6]:mc(t);gb=t[3];"none"!=Ja&&(C(),Ld(t),F(t))}}function T(){return"none"==Ja?["1","",0,0,0,void 0,"","","",void 0]:function(k,
  t,v,A){var D,L=Math.round((new Date).getTime()/1E3);k?(D=k.split(".")).unshift("0"):D=["1",t,L,A,L,"",v];D[6]&&"undefined"!==D[6]||(D[6]=sb.v4());D[7]&&"undefined"!==D[7]||(D[7]="");D[8]&&"undefined"!==D[8]||(D[8]="");D[9]&&"undefined"!==D[9]||(D[9]="");D[10]&&"undefined"!==D[10]||(D[10]=-1);var I=function(J,B){J=parseInt(J);return isNaN(J)?B:J};k=function(J){return J?I(J,void 0):void 0};return[D[0],D[1],I(D[2],L),I(D[3],A),I(D[4],L),k(D[5]),D[6],D[7],D[8],k(D[9])]}(w("id")||void 0,Xc,Ib,gb)}function da(k,
  t){var v,A,D,L,I=!0,J=vb.getConfig();return void 0!==J.mend?I=J.mend:void 0!==(null===(A=null===(v=null==p?void 0:p.configs)||void 0===v?void 0:v.network)||void 0===A?void 0:A.mergeEndpoint)&&(I=null===(L=null===(D=null==p?void 0:p.configs)||void 0===D?void 0:D.network)||void 0===L?void 0:L.mergeEndpoint),0===k.indexOf("http")?(t&&I&&(k=k.replace(/^(https?:\/\/)(.*)$/,"$1"+t+".$2")),k):t&&I?("https:"===document.location.protocol?"https":"http")+"://"+t+"."+k:("https:"===document.location.protocol?
  "https":"http")+"://"+k}function U(){zf&&null!=q.pageViewId||(q.pageViewId=sb.v4())}function pa(){return null==q.pageViewId&&(q.pageViewId=sb.v4()),q.pageViewId}function oa(){try{return X({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(k){return void console.warn(k)}}function ra(){try{return Math.floor(2147483647*
  Math.random())}catch(k){return console.warn(k),-1}}function ja(k){try{return"object"===la(JSON.parse(k))}catch(t){return!1}}function X(k){try{var t=Object.keys(k);ja(JSON.stringify(k))?t.forEach(function(v){if(""!==v.trim()){var A=k[v];A&&""!==A&&(A="object"===la(A)?JSON.stringify(A):""+A,Object.defineProperty(uc,v,{value:A,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(v){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
  v)}}function ba(k){try{k.forEach(function(t){delete uc[t]})}catch(t){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function Z(k){var t=k.title,v=k.context,A=k.timestamp;k=k.contextCallback;n();Sd&&U();Sd=!0;wb=document.title;t=Id((vc=t)||wb);Xb()!==H.SAMPLING_MODES.NONE&&(aa(),vb.track(function(I){var J=I.pageUrl,B=I.pageTitle;I=I.referrer;var S=zd();return S.add("e","pv"),S.add("url",J),S.add("page",B),S.add("refr",I),S}({pageUrl:x(wc||ob),pageTitle:t,
  referrer:x(gd||qc)}),(v||[]).concat(k?k():[]),A));A=new Date;t=!1;if(Qa.enabled&&!Qa.installed){t=Qa.installed=!0;var D={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var I=!1,J=Object.defineProperty({},"passive",{get:function(){I=!0},set:function(){}}),B=function(){};window.addEventListener("testPassiveEventSupport",B,J);window.removeEventListener("testPassiveEventSupport",B,J);D.hasSupport=I}}};D.update();var L="onwheel"in document.createElement("div")?
  "wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(D,"hasSupport")?cb(document,L,r,{passive:!0}):cb(document,L,r);O();L=function(I,J){return void 0===J&&(J=r),function(B){return cb(document,B,J)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(L(document));["resize","focus","blur"].forEach(L(window));L(window,G)("scroll")}if(Qa.enabled&&(hh||t))for(A in Qd=A.getTime(),A=void 0,Qa.configurations)(t=Qa.configurations[A])&&
  (window.clearInterval(t.activityInterval),M(t,v,k))}function Za(){var k,t,v,A,D,L,I,J,B,S,ma,xa,Fa,Ra,ca,W,sa,Ga,hb,xc,yc,Kb,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,ae,be,Af;try{var Da=null===(k=null==f?void 0:f.core)||void 0===k?void 0:k.getConfig();k=void 0;ce={};var hd=Yb.MERGE;switch(void 0!==(null===(v=null===(t=null==p?void 0:p.configs)||void 0===t?void 0:t.metaTagsTracking)||void 0===v?void 0:v.preference)?hd=null===(D=null===(A=null==p?void 0:p.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===D?
  void 0:D.preference:!0===(null===(I=null===(L=null==p?void 0:p.configs)||void 0===L?void 0:L.metaTagsTracking)||void 0===I?void 0:I.force)?hd=Yb.APP:void 0!==(null===(J=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===J?void 0:J.pref)&&(hd=null===(B=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===B?void 0:B.pref),hd){case Yb.APP:if(!1===(null===(ma=null===(S=null==p?void 0:p.configs)||void 0===S?void 0:S.metaTagsTracking)||void 0===ma?void 0:ma.enabled))return;0<(null===(Ra=
  null===(Fa=null===(xa=null==p?void 0:p.configs)||void 0===xa?void 0:xa.metaTagsTracking)||void 0===Fa?void 0:Fa.tags)||void 0===Ra?void 0:Ra.length)&&(k=Ea([],null===(W=null===(ca=null==p?void 0:p.configs)||void 0===ca?void 0:ca.metaTagsTracking)||void 0===W?void 0:W.tags,!0));break;case Yb.REMOTE:if(!1===(null===(sa=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===sa?void 0:sa.enabled))return;void 0!==(null==Da?void 0:Da.metaTagsTrackingConfiguration)&&0<(null===(hb=null===(Ga=null==Da?
  void 0:Da.metaTagsTrackingConfiguration)||void 0===Ga?void 0:Ga.tags)||void 0===hb?void 0:hb.length)&&(k=Ea([],null===(xc=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===xc?void 0:xc.tags,!0));break;default:if(void 0===(null==Da?void 0:Da.metaTagsTrackingConfiguration)&&!1===(null===(Kb=null===(yc=null==p?void 0:p.configs)||void 0===yc?void 0:yc.metaTagsTracking)||void 0===Kb?void 0:Kb.enabled)||void 0===(null===(Td=null==p?void 0:p.configs)||void 0===Td?void 0:Td.metaTagsTracking)&&!1===
  (null===(Ud=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===Ud?void 0:Ud.enabled))return;var Bf=null===(Wd=null===(Vd=null==p?void 0:p.configs)||void 0===Vd?void 0:Vd.metaTagsTracking)||void 0===Wd?void 0:Wd.tags,Cf=null===(Xd=null==Da?void 0:Da.metaTagsTrackingConfiguration)||void 0===Xd?void 0:Xd.tags;!1===(null===(Zd=null===(Yd=null==p?void 0:p.configs)||void 0===Yd?void 0:Yd.metaTagsTracking)||void 0===Zd?void 0:Zd.enabled)&&(Bf=[]);!1===(null===($d=null==Da?void 0:Da.metaTagsTrackingConfiguration)||
  void 0===$d?void 0:$d.enabled)&&(Cf=[]);k=Ea([],(Af=Cf||[],Ea(Ea([],Bf||[],!0),Af,!0).reduce(function(zc,id){var de=zc.find(function(ih){return ih.key===id.key});return de?id.condition&&(de.condition=Ea(Ea([],de.condition||[],!0),id.condition,!0)):zc.push(fa({},id)),zc},[])),!0)}if(void 0!==k&&0<(null==k?void 0:k.length)){t={};var Zb=null===document||void 0===document?void 0:document.head,Ac=null==Zb?void 0:Zb.getElementsByTagName("meta");if(void 0!==Ac&&0<(null==Ac?void 0:Ac.length))for(Zb=0;Zb<
  Ac.length;Zb++){var Df=Ac[Zb];for(v=0;v<k.length;v++){var jd=Df.getAttribute(k[v].key),Ef=Df.getAttribute(k[v].value);A=void 0;(null===(ae=k[v])||void 0===ae?0:ae.condition)&&(A=null===(be=k[v])||void 0===be?void 0:be.condition);jd&&(A&&A.includes(jd)?t[jd]=Ef:A&&0!==A.length||(t[jd]=Ef))}}f.setMetaCustomTags(t)}}catch(zc){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",zc)}}function M(k,t,v){var A=function(L,I){var J;n();var B=null===(J=null==f?void 0:f.core)||void 0===J?void 0:
  J.getConfig();B.enablePeriodicHeartbeat?(null!=B.periodicHeartbeatInterval&&(J=1E3*B.periodicHeartbeatInterval,J!=k.configHeartBeatTimer&&(k.configHeartBeatTimer=J,window.clearInterval(k.activityInterval),k.activityInterval=window.setInterval(D,J))),L({context:I,pageViewId:pa(),minXOffset:Yc,minYOffset:$c,maxXOffset:Zc,maxYOffset:ad})):window.clearInterval(k.activityInterval);O()};window.setTimeout(function(){A(k.callback,(t||[]).concat(v?v():[]))},2E3);var D=function(){var L=new Date;(!1===(null===
  document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Qd+k.configHeartBeatTimer>L.getTime()||!0===Ff)&&A(k.callback,(t||[]).concat(v?v():[]))};k.activityInterval=window.setInterval(D,k.configHeartBeatTimer)}function R(k){var t=k.minimumVisitLength,v=k.heartbeatDelay;k=k.callback;if(kc(t)&&kc(v))return{configMinimumVisitLength:1E3*t,configHeartBeatTimer:1E3*
  v,callback:k};ha.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function V(k){var t=k.context,v=k.minXOffset,A=k.minYOffset,D=k.maxXOffset,L=k.maxYOffset;k=document.title;k!==wb&&(wb=k,vc=void 0);if(Xb()!==H.SAMPLING_MODES.NONE){aa();k=vb;var I=k.track;var J=x(wc||ob);var B=Id(vc||wb),S=x(gd||qc);v=Math.round(v);D=Math.round(D);A=Math.round(A);L=Math.round(L);var ma=zd();J=(ma.add("e","pp"),ma.add("url",J),ma.add("page",B),ma.add("refr",S),v&&!isNaN(Number(v))&&ma.add("pp_mix",
  v.toString()),D&&!isNaN(Number(D))&&ma.add("pp_max",D.toString()),A&&!isNaN(Number(A))&&ma.add("pp_miy",A.toString()),L&&!isNaN(Number(L))&&ma.add("pp_may",L.toString()),ma);I.call(k,J,t)}}function aa(){var k,t,v=null===(t=null==f?void 0:f.core)||void 0===t?void 0:t.getConfig().pageUrlTrackingConfig;t=uc[H.PAGE_URL_QUERY_PARAMS];if(v){var A={targetUrl:x(wc||ob),rqq:{}};A=af(A,null==v?void 0:v.collectattr,null,null==v?void 0:v.maxQueryLength);(!t&&A.rqq||t!==JSON.stringify(A.rqq))&&(ba([H.PAGE_URL_QUERY_PARAMS]),
  function(D){try{var L=Object.keys(D);ja(JSON.stringify(D))?L.forEach(function(I){if(""!==I.trim()){var J=D[I];J&&""!==J&&("object"===la(J)||(J=""+J),Object.defineProperty(uc,I,{value:J,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(I){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",I)}}(((k={})[H.PAGE_URL_QUERY_PARAMS]=A.rqq,k)))}else t&&ba([H.PAGE_URL_QUERY_PARAMS])}var Ia,Na,Oa,Ua,ua,Ca,mb,Ub,nb,ub,ee,fe,ge,
  he,ie,je;if(window&&window.localStorage){var jh=window.localStorage,$b={sensorVersion:l,ck:null!==(Ia=p.convivaCustomerKey)&&void 0!==Ia?Ia:""};$b=JSON.stringify($b);$b="function"==typeof btoa?btoa($b):function(k){k=unescape(encodeURIComponent(k));for(var t="",v=0;v<k.length;){var A=k.charCodeAt(v++),D=k.charCodeAt(v++),L=k.charCodeAt(v++),I=A>>2;A=(3&A)<<4|D>>4;D=isNaN(D)?64:(15&D)<<2|L>>6;L=isNaN(L)?64:63&L;t+=Xa.charAt(I)+Xa.charAt(A)+Xa.charAt(D)+Xa.charAt(L)}return t}($b);jh.setItem(H.VISUAL_LABELLING_CONFIG,
  $b)}var ke=xb,kh=$a;ke&&kh||("function"==typeof AbortController&&(xb=new AbortController),$a=null==xb?void 0:xb.signal);m||(m="CAT");var ld=function(k,t,v){var A,D,L,I,J,B={},S={};if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(H.END_POINT_STORAGE_KEY),(J=localStorage.getItem(H.REMOTE_CONFIG_STORAGE_KEY))?va=H.CONFIG_SOURCE.CACHED:J=JSON.stringify(S)}catch(ca){J=JSON.stringify(S);kd=!0;var ma={className:"fetchRemoteConfig - localstorage",
  error:ca,configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,ma)},0);ha.warn("Issue while fetching data from local storage")}else J=JSON.stringify(S);try{B=JSON.parse(J)}catch(ca){kd=!0;var xa={className:"fetchRemoteConfig - parsing cached data",error:ca,configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,xa)},0);ha.warn("Issue while parsing storedConvivaRemoteConfig")}S=(new Gf).setBase64(null==
  B?void 0:B.base64).setCacheRefreshInterval(null==B?void 0:B.cacheRefreshInterval).setLifecycleAutotracking(null==B?void 0:B.lifecycleAutotracking).setExceptionAutotracking(null==B?void 0:B.exceptionAutotracking).setEnablePeriodicHeartbeat(null==B?void 0:B.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==B?void 0:B.periodicHeartbeatInterval).setEnc(null==B?void 0:B.enc,null===(D=null===(A=null==v?void 0:v.configs)||void 0===A?void 0:A.network)||void 0===D?void 0:D.encoding).setMaxLocalStorageQueueSize(null==
  B?void 0:B.maxLocalStorageQueueSize).setMaxGetBytes(null==B?void 0:B.maxGetBytes).setBufferSize(null==B?void 0:B.bufferSize).setCustomEventTrackingConfiguration(null==B?void 0:B.customEventTrackingConfiguration).setEndPoint(null==B?void 0:B.endpoint,v.gatewayUrl,v.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==B?void 0:B.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==B?void 0:B.metaTagsTrackingConfiguration).setTraceparentconfig(null==B?void 0:B.traceparentconfig).setMend(null==
  B?void 0:B.mend,null===(I=null===(L=null==v?void 0:v.configs)||void 0===L?void 0:L.network)||void 0===I?void 0:I.mergeEndpoint).setPerformanceContextConfig(null==B?void 0:B.performanceContextConfig).setConfigurationVersion(null==B?void 0:B.configurationVersion).setCatRcLastUpdatedTs(null==B?void 0:B.catRcLastUpdatedTs).setEmitterConfiguration(null==B?void 0:B.emitterConfiguration).setcontrolIngestConfig(null==B?void 0:B.controlIngestConfig).setApplicationContext(null==B?void 0:B.applicationContext).setDi(null==
  B?void 0:B.di).setClickcc(null==B?void 0:B.clickcc).setCollectionRateLimit(null==B?void 0:B.collectionRateLimit).setPageUrlTrackingConfig(null==B?void 0:B.pageUrlTrackingConfig).build();A="Cached Config Applied";va===H.CONFIG_SOURCE.DEFAULT&&(A="Default Config Applied");ya=(new Date).getTime();var Fa={message:A,className:"browserTrackerCore",configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,Fa)},0);k=k.split("js-")[1].split(" ")[0];var Ra=(v.proxyGatewayUrl?
  v.proxyGatewayUrl+"/js/":H.REMOTE_CONFIG_URL_PREFIX)+v.convivaCustomerKey+"/"+k+H.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((db=new XMLHttpRequest).onreadystatechange=function(){var ca;try{if(4==db.readyState)if(ac=!1,200==db.status){var W={message:"Remote config request is successful - ".concat("number"==typeof db.status?db.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:va,configAppliedTime:ya};Aa(ta,null==ea?void 0:ea.getSamplingMode,W);bc=0;var sa=
  JSON.parse(db.response);W=ta;if((null==sa?void 0:sa.configurationBundle[0].namespace)!==t)return void Aa(ta,null==ea?void 0:ea.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:va,configAppliedTime:ya});if(!sa.hasOwnProperty("configurationVersion")||(null===(ca=W.getConfig())||void 0===ca?void 0:ca.configurationVersion)===(null==sa?void 0:sa.configurationVersion)){var Ga=localStorage.getItem(H.REMOTE_CONFIG_STORAGE_KEY);
  if(Ga)return(Ga=JSON.parse(Ga)).catRcLastUpdatedTs=(new Date).getTime(),window.localStorage&&(localStorage.removeItem(H.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(H.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(Ga))),void Aa(ta,null==ea?void 0:ea.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:va,configAppliedTime:ya})}S.catRcLastUpdatedTs=(new Date).getTime();var hb=sa.cri||sa.cacheRefreshInterval||na.cacheRefreshInterval;
  if(hb=1>hb?na.cacheRefreshInterval:kc(hb)?hb:na.cacheRefreshInterval,S.cacheRefreshInterval!=hb&&(S.cacheRefreshInterval=hb,Hf(S.cacheRefreshInterval,S.catRcLastUpdatedTs,v,Ra,H.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),lh(sa,S.catRcLastUpdatedTs,v)){var xc=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(xc)}}else try{2>bc&&window.setTimeout(function(){(null==v?0:v.trackerConfigUrl)?cc(null==v?void 0:v.trackerConfigUrl,!0):cc(Ra,
  !0)},5E3*(bc+1));var yc={message:"Remote config request is not successful - ".concat("number"==typeof db.status?db.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:va,configAppliedTime:ya};(Aa(ta,null==ea?void 0:ea.getSamplingMode,yc),2<=bc)&&Aa(ta,null==ea?void 0:ea.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:va,configAppliedTime:ya})}catch(Kb){}}catch(Kb){ac=
  !1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(Kb)),Aa(ta,null==ea?void 0:ea.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:Kb,configAppliedSrc:va,configAppliedTime:ya})}},Hf(S.cacheRefreshInterval,S.catRcLastUpdatedTs,v,Ra,void 0!==kd&&!0===kd?H.RC_FETCH_MODE.IMMEDIATE_FETCH:H.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{convivaRemoteTrackerConfig:S}}(l,m,p).convivaRemoteTrackerConfig;null===(Na=Tc(ld.performanceContextConfig))||void 0===Na||
  Na.activateLCPObserver();p.eventMethod=null!==(Oa=p.eventMethod)&&void 0!==Oa?Oa:"post";var wf=function(k){var t;return null!==(t=k.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},xf=function(k){var t,v;return"boolean"!=typeof k.anonymousTracking&&null!==(v=!0===(null===(t=k.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==v&&v},yf=function(k){var t,v;return"boolean"!=typeof k.anonymousTracking&&null!==(v=!0===(null===(t=k.anonymousTracking)||void 0===t?void 0:
  t.withServerAnonymisation))&&void 0!==v&&v};g.push({beforeTrack:function(k){var t=w("ses"),v=T();if(le=!!me&&!!Ya(me),If||le)P();else{var A;if("0"===v[0]?(Ib=t||"none"==Ja?v[6]:mc(v),gb=v[3]):(new Date).getTime()-ne>1E3*uf&&(gb++,Ib=mc(v,gb)),Ld(v),k.add("uid",(A=Jb,sc?null:A)),n(),k.add("refr",x(gd||qc)),document)wb=document.title,t=Id(vc||wb),k.add("page",t);k.add("url",x(wc||ob));"none"!=Ja&&(F(v),C());ne=(new Date).getTime()}}});g.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:tc,
  iid:ed.toString(),ck:mh,eventIndex:fd++}}]}});g.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:(k={data:fa(fa({},uc),ce)},k)}];var k}});g.push({contexts:function(){var k,t=null===(k=null==f?void 0:f.core)||void 0===k?void 0:k.getConfig();return!0===(null==t?void 0:t.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:Jf,version:Jf}}]:[]}});g.push({contexts:function(){var k={sch:"sdk.js.eco.1"};k.cat=Kf.WEB;try{var t=null==p?void 0:p.deviceMetadata;if(t){var v=t.DeviceBrand,A=t.DeviceCategory,
  D=t.DeviceManufacturer,L=t.DeviceModel,I=t.DeviceType,J=t.DeviceVersion,B=t.OperatingSystemName,S=t.OperatingSystemVersion,ma=t.FrameworkName,xa=t.FrameworkVersion;"string"==typeof A&&Object.values(Kf).includes(A)?k.cat=A:k.cat="INVALID"+(A?": ".concat(A):"");"string"==typeof v&&""!=v&&(k.dvb=v);"string"==typeof D&&""!=D&&(k.dvma=D);"string"==typeof L&&""!=L&&(k.dvm=L);I&&Object.values(nh).includes(I)&&(k.dvt=I);"string"==typeof J&&""!=J&&(k.dvv=J);"string"==typeof B&&""!=B&&(k.os=B);"string"==typeof S&&
  ""!=S&&(k.osv=S);"string"==typeof ma&&""!=ma&&(k.fw=ma);"string"==typeof xa&&""!=xa&&(k.fwv=xa)}}catch(Fa){ha.warn("error in setting platform metadata context",Fa)}return null!=k&&0<Object.keys(k).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:k}]:[]}});try{(null!==(Ua=null==p?void 0:p.plugins)&&void 0!==Ua?Ua:[]).forEach(function(k){k.contexts||g.push(k)})}catch(k){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",k)}var gd,wc,vc,sf,tf,me,tc,ed,Qd,Yc,Zc,$c,
  ad,Hb,Xc,Ib,Jb,le,Xb=function(){var k;try{var t=null===(k=null==f?void 0:f.core)||void 0===k?void 0:k.getConfig();return t?void 0===t.catRcLastUpdatedTs||0===t.catRcLastUpdatedTs?H.SAMPLING_MODES.RCFG:t.controlIngestConfig?function(v){try{if(void 0===v.sel)return Sc(),H.SAMPLING_MODES.RCFG;var A=v.sel.pct;if("number"==typeof A&&100>A&&0<A&&0==A%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var D=localStorage.getItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=D)return parseFloat(D)<=
  A?Kd(v,H.SAMPLING_ACTION.SAMPLED):Kd(v,H.SAMPLING_ACTION.NON_SAMPLED);var L=100*Math.random();return localStorage.setItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,L.toString()),Kd(v,L<A?H.SAMPLING_ACTION.SAMPLED:H.SAMPLING_ACTION.NON_SAMPLED)}return H.SAMPLING_MODES.NONE}return"number"==typeof A&&0===A?(Sc(),H.SAMPLING_MODES.NONE):(Sc(),H.SAMPLING_MODES.RCFG)}catch(I){}return H.SAMPLING_MODES.RCFG}(null==t?void 0:t.controlIngestConfig):H.SAMPLING_MODES.RCFG:H.SAMPLING_MODES.RCFG}catch(v){return ha.error("Error while getting sampling mode"),
  H.SAMPLING_MODES.RCFG}},vb=oh(ld,g,function(k){If||le||pb.enqueueRequest(k.build(),oe,function(t){var v,A,D,L=null!==(D=null===(A=null===(v=vb.getConfig().emitterConfiguration)||void 0===v?void 0:v.batching)||void 0===A?void 0:A.urgentEvents)&&void 0!==D?D:[],I=v="",J="",B="";A=t.getPayload();"string"==typeof A.e&&(B=A.e);if("ue"!==B&&"pv"!==B&&"pp"!==B)return!1;t=t.getJson().find(function(S){return"ue_pr"===S.keyIfNotEncoded||"ue_px"===S.keyIfEncoded});void 0!==t&&(t=t.json,"object"===la(t.dt)&&
  null!==t.dt&&(t=t.dt,"string"==typeof t.sc&&(v=t.sc),"object"===la(t.dt)&&"string"==typeof t.dt.name&&(I=t.dt.name)),J=v.split("/")[1]||"");return L.some(function(S){S=S.toLowerCase();return""!==S&&(S===B.toLowerCase()||S===J.toLowerCase()||S===I.toLowerCase())})}(k))}),Vb=cf(window.location.hostname,window.location.href,Jd()),rf=Ye(Vb[0]),ob=Vb[1],qc=Vb[2],ph=null!==(ua=p.platform)&&void 0!==ua?ua:"web",oe=da(ld.endpoint,p.convivaCustomerKey),qh=null!==(Ca=p.postPath)&&void 0!==Ca?Ca:"/ctp",rh=null!==
  (mb=p.appId)&&void 0!==mb?mb:"",mh=null!==(Ub=p.convivaCustomerKey)&&void 0!==Ub?Ub:"",Jf=null!==(nb=p.appVersion)&&void 0!==nb?nb:"",uc={},ce={},wb="undefined"!=typeof document?document.title:void 0,hh=null===(ub=p.resetActivityTrackingOnPageView)||void 0===ub||ub,Wb=null!==(ee=p.cookieName)&&void 0!==ee?ee:"_cnv_",rc=null!==(fe=p.cookieDomain)&&void 0!==fe?fe:void 0,Pd="/",cd=null!==(ge=p.cookieSameSite)&&void 0!==ge?ge:"None",dd=null===(he=p.cookieSecure)||void 0===he||he,Lf=navigator.doNotTrack||
  navigator.msDoNotTrack||window.doNotTrack,If=void 0!==p.respectDoNotTrack&&p.respectDoNotTrack&&("yes"===Lf||"1"===Lf),vf=null!==(ie=p.cookieLifetime)&&void 0!==ie?ie:63072E3,uf=null!==(je=p.sessionCookieTimeout)&&void 0!==je?je:1800,bd=xf(p),Rd=yf(p),sc=!!p.anonymousTracking,Ja=wf(p),fd=-1,ne=(new Date).getTime(),gb=1,pb=function(k,t,v,A,D,L,I,J){var B,S,ma,xa,Fa=ta,Ra=function(){var ca=Fa.getConfig();return!ca.emitterConfiguration||!ca.emitterConfiguration.batching||ca.emitterConfiguration.batching.enabled};
  return ah(k,t,"localStorage"==v||"cookieAndLocalStorage"==v,A.eventMethod,D,function(){var ca,W=Fa.getConfig();return null!==(ca=W.bufferSize?W.bufferSize:A.bufferSize)&&void 0!==ca?ca:20}(),function(){var ca,W=Fa.getConfig();return null!==(ca=W.maxGetBytes?W.maxGetBytes:A.maxGetBytes)&&void 0!==ca?ca:0},null===(B=A.useStm)||void 0===B||B,function(){var ca,W=Fa.getConfig();return null!==(ca=W.maxLocalStorageQueueSize?W.maxLocalStorageQueueSize:A.maxLocalStorageQueueSize)&&void 0!==ca?ca:10},null!==
  (S=A.connectionTimeout)&&void 0!==S?S:3E4,L,null!==(ma=A.customHeaders)&&void 0!==ma?ma:{},null!==(xa=A.withCredentials)&&void 0!==xa&&xa,I,function(){var ca,W,sa,Ga=Fa.getConfig();return null!==(sa=(null==Ga?0:Ga.enc)?Ga.enc:null===(W=null===(ca=null==A?void 0:A.configs)||void 0===ca?void 0:ca.network)||void 0===W?void 0:W.encoding)&&void 0!==sa?sa:lb.GZIP},Ra,function(){var ca,W,sa=Fa.getConfig();return Ra()?"number"==typeof(null===(W=null===(ca=sa.emitterConfiguration)||void 0===ca?void 0:ca.batching)||
  void 0===W?void 0:W.byteLimitPostInKB)?1E3*sa.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var ca,W,sa=null===(W=null===(ca=Fa.getConfig().emitterConfiguration)||void 0===ca?void 0:ca.batching)||void 0===W?void 0:W.batchingIntervalInSec;return 1E3*("number"==typeof sa?sa:5)},J)}(h,q,Ja,p,qh,Rd,5E3,Xb),zf=!1,Sd=!1,Qa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*ld.periodicHeartbeatInterval,callback:V}}},Ff=!1;p.hasOwnProperty("discoverRootDomain")&&
  p.discoverRootDomain&&(rc=function(k,t){for(var v=window.location.hostname,A="_cnv_root_domain_test_"+(new Date).getTime(),D="_test_value_"+(new Date).getTime(),L=v.split("."),I=L.length-1;0<=I;){var J=L.slice(I,L.length).join(".");if(Ya(A,D,0,"/",J,k,t),Ya(A)===D){Ya(A,"",-1,"/",J,k,t);v=document.cookie.split("; ");A=[];for(D=0;D<v.length;D++)"_cnv_root_domain_test_"===v[D].substring(0,22)&&A.push(v[D]);v=A;for(A=0;A<v.length;A++)Ya(v[A],"",-1,"/",J,k,t);return J}--I}return v}(cd,dd));vb.setTrackerVersion(l);
  vb.setAppId(rh);vb.setPlatform(ph);u();ia();pb.setCustomHeaders({"x-client-id":""+tc});p.crossDomainLinker&&E(p.crossDomainLinker);var pe={getDomainSessionIndex:function(){return gb},getPageViewId:function(){return pa()},newSession:function(){var k=T();"0"===k[0]?(Ib="none"!=Ja?mc(k):k[6],gb=k[3],C()):(gb++,Ib=mc(k,gb));Ld(k);"none"!=Ja&&(F(k),C());ne=(new Date).getTime()},getCookieName:function(k){return Wb+k+"."+Hb},getUserId:function(){return Jb},getDomainUserId:function(){var k=T();return k&&
  1<k.length?k[1]:null},getDomainUserInfo:function(){return T()},setReferrerUrl:function(k){gd=k},setCustomUrl:function(k){n();var t=ob,v;wc=z(k)?k:"/"===k.slice(0,1)?z(t)+"://"+Qc(t)+k:(0<=(v=(t=x(t)).indexOf("?"))&&(t=t.slice(0,v)),(v=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,v+1)),t+k)},setDocumentTitle:function(k){wb=document.title;vc=k},discardHashTag:function(k){sf=k},discardBrace:function(k){tf=k},setCookiePath:function(k){Pd=k;u()},setVisitorCookieTimeout:function(k){vf=k},crossDomainLinker:function(k){E(k)},
  enableActivityTracking:function(k){Qa.configurations.pagePing||(Qa.enabled=!0,Qa.configurations.pagePing=R(fa(fa({},k),{callback:V})))},enableActivityTrackingCallback:function(k){Qa.configurations.callback||(Qa.enabled=!0,Qa.configurations.callback=R(k))},updatePageActivity:function(){r()},setOptOutCookie:function(k){me=k},setUserId:function(k){Jb=k},setUserIdFromLocation:function(k){n();Jb=lc(k,ob)},setUserIdFromReferrer:function(k){n();Jb=lc(k,qc)},setUserIdFromCookie:function(k){Jb=Ya(k)},setCollectorUrl:function(k,
  t){oe=da(k,t);pb.setCollectorUrl(oe)},setBufferSize:function(k){pb.setBufferSize(k)},flushBuffer:function(k){void 0===k&&(k={});pb.executeQueue();k.newBufferSize&&pb.setBufferSize(k.newBufferSize)},trackPageView:function(k){var t;void 0===k&&(k={});Za();var v=null===(t=null==f?void 0:f.core)||void 0===t?void 0:t.getConfig();try{k=fa(fa({},k),{context:Tc(null==v?void 0:v.performanceContextConfig).contexts()})}catch(A){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",
  A)}Z(k)},trackVideoEvent:function(k){var t,v,A,D,L;void 0===k&&(k={});try{var I=null===(t=null==f?void 0:f.core)||void 0===t?void 0:t.getConfig();if(null!==(A=null===(v=null==I?void 0:I.customEventTrackingConfiguration)||void 0===v?void 0:v.enabled)&&void 0!==A?A:na.customEventTrackingConfiguration.enabled){""!=k.name&&null!=k.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var J=null===(D=null==I?void 0:I.customEventTrackingConfiguration)||
  void 0===D?void 0:D.blocklist;(null==J?0:J.includes("*"))||(null==J?0:J.some(function(B){return 0<(null==B?void 0:B.length)&&k.name.toLowerCase().includes(B.toLowerCase())}))||null===(L=null==f?void 0:f.core)||void 0===L||L.track(function(B){return Cb({event:{sc:"cv/ve/1-0-5",dt:Rb({name:B.name,sid:B.sid,iid:B.iid,clid:B.clid,st:B.st,sst:B.sst,an:B.an,cl:B.cl,lv:B.lv,pn:B.pn,vid:B.vid,fw:B.fw,fwv:B.fwv,mn:B.mn,mv:B.mv,url:B.url,tags:B.tags,cen:B.cen,ced:B.ced,oldsc:B.oldsc,newsc:B.newsc,err:B.err,
  br:B.br,ft:B.ft,avgbr:B.avgbr})}})}({name:k.name,sid:k.sid,iid:k.iid,clid:k.clid,st:k.st,sst:k.sst,an:k.an,cl:k.cl,lv:k.lv,pn:k.pn,vid:k.vid,fw:k.fw,fwv:k.fwv,mn:k.mn,mv:k.mv,url:k.url,tags:k.tags,cen:k.cen,ced:k.ced,oldsc:k.old,newsc:k.new,err:k.err,br:k.br,ft:k.ft,avgbr:k.avgbr}),k.context,k.timestamp)}}catch(B){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",B)}},trackCustomEvent:function(k){var t,v,A,D,L;void 0===k&&(k={});try{if(Xb()!==H.SAMPLING_MODES.NONE){var I=
  null===(t=null==f?void 0:f.core)||void 0===t?void 0:t.getConfig();if(null!==(A=null===(v=null==I?void 0:I.customEventTrackingConfiguration)||void 0===v?void 0:v.enabled)&&void 0!==A?A:na.customEventTrackingConfiguration.enabled){if(!k.name||"string"==typeof k.name&&""==k.name.trim())return void console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");var J=k.data;try{"string"!=typeof k.data&&(J=JSON.stringify(k.data))}catch(S){}var B=null===(D=null==I?void 0:
  I.customEventTrackingConfiguration)||void 0===D?void 0:D.blocklist;(null==B?0:B.includes("*"))||(null==B?0:B.some(function(S){return 0<(null==S?void 0:S.length)&&k.name.toLowerCase().includes(S.toLowerCase())}))||null===(L=null==f?void 0:f.core)||void 0===L||L.track(Nc({name:k.name,data:J}),k.context,k.timestamp)}}}catch(S){console.warn("Conviva App Tracker:: Unable to track custom event! "+S)}},trackNetworkRequest:function(k){var t,v,A,D,L,I,J,B,S,ma,xa,Fa;void 0===k&&(k={});try{var Ra=null===(A=
  null==f?void 0:f.core)||void 0===A?void 0:A.getConfig().networkRequestTrackingConfiguration,ca=k.responseDetails.responseTime-k.requestDetails.requestTime;try{ca=parseFloat(ca.toFixed(3))}catch(Ga){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",Ga)}try{var W=af(((t={targetUrl:null===(D=null==k?void 0:k.requestDetails)||void 0===D?void 0:D.url,method:null===(L=null==k?void 0:k.requestDetails)||void 0===L?void 0:L.method,responseStatusCode:(null===(I=null==k?void 0:
  k.responseDetails)||void 0===I?0:I.status)?k.responseDetails.status:0,responseStatusText:(null===(J=null==k?void 0:k.responseDetails)||void 0===J?0:J.statusText)?k.responseDetails.statusText:"ok"})[qa.request_headers]=null===(B=null==k?void 0:k.requestDetails)||void 0===B?void 0:B.headers,t[qa.response_headers]=null===(S=null==k?void 0:k.responseDetails)||void 0===S?void 0:S.headers,t.duration=ca,t),null==Ra?void 0:Ra.collectattr,k,null==Ra?void 0:Ra.maxQueryLength);if(null===(ma=null==k?void 0:k.requestDetails)||
  void 0===ma?0:ma[H.TRACEPARENT_HEADER_KEY]){var sa=((v={})[H.TRACEPARENT_HEADER_KEY]=null===(xa=null==k?void 0:k.requestDetails)||void 0===xa?void 0:xa[H.TRACEPARENT_HEADER_KEY],v);W[qa.request_headers]?W[qa.request_headers]=fa(fa({},W[qa.request_headers]),sa):W[qa.request_headers]=sa}null===(Fa=null==f?void 0:f.core)||void 0===Fa||Fa.track(Cb({event:{sc:"cv/nr/1-0-5",dt:Rb({targetUrl:W.targetUrl,method:W.method,queryParameters:W.queryParameters,responseStatusCode:W.responseStatusCode,responseStatusText:W.responseStatusText,
  rqh:W.rqh,rsh:W.rsh,rqb:W.rqb,rsb:W.rsb,rqq:W.rqq,requestSize:W.requestSize,responseSize:W.responseSize,duration:W.duration,contentType:W.contentType,requestTimestamp:W.requestTimestamp,responseTimestamp:W.responseTimestamp})}}),k.context,k.timestamp)}catch(Ga){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",Ga)}}catch(Ga){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",Ga)}},trackButtonClick:function(k){var t,
  v,A;try{var D=null===(t=null==Ba?void 0:Ba.core)||void 0===t?void 0:t.getConfig();!0===(null===(v=null==D?void 0:D.clickcc)||void 0===v?void 0:v.en)&&(k.elementType="button",null===(A=null==Ba?void 0:Ba.core)||void 0===A||A.track(Nc({name:"conviva_click",data:JSON.stringify(k)}),Pe(void 0,void 0)))}catch(L){ha.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",L)}!0},trackLinkClick:function(k){var t,v,A;try{var D=null===(t=null==Ba?void 0:Ba.core)||
  void 0===t?void 0:t.getConfig();!0===(null===(v=null==D?void 0:D.clickcc)||void 0===v?void 0:v.en)&&(k.elementType="link",null===(A=null==Ba?void 0:Ba.core)||void 0===A||A.track(Nc({name:"conviva_click",data:JSON.stringify(k)}),Pe(void 0,void 0)))}catch(L){ha.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",L)}!0},trackErrorEvent:function(k){Od(k)},setCustomTags:function(k){void 0===k&&(k={});X(k)},setMetaCustomTags:function(k){void 0===k&&(k={});(function(t){try{var v=
  Object.keys(t);ja(JSON.stringify(t))?v.forEach(function(A){""!==A&&Object.defineProperty(ce,A,{value:""+t[A],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(A){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",A)}})(k)},unsetCustomTags:function(k){void 0===k&&(k=[]);ba(k)},preservePageViewId:function(){zf=!0},disableAnonymousTracking:function(k){p.anonymousTracking=!1;Q(k);ia();pb.executeQueue()},enableAnonymousTracking:function(k){var t;
  p.anonymousTracking=null===(t=k&&(null==k?void 0:k.options))||void 0===t||t;Q(k);bd||U()},clearUserData:P,setKeepAliveInBG:function(k){void 0===k&&(k=!1);Ff=k},clearTimers:function(){ta=null;Mf.cleanupNetworkRequestHandler();try{Sa=f,removeEventListener("error",of,!0),removeEventListener("unhandledrejection",pf,!0)}catch(v){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",v)}lf();null==ke||ke.abort();$a=xb=void 0;if(Bc&&window.clearInterval(Bc),
  Qa.enabled){var k=void 0;for(k in Qa.configurations){var t=Qa.configurations[k];t&&window.clearInterval(t.activityInterval)}}f&&(f.core=null);this.tracker=null},getSamplingMode:Xb,getPageViewSent:function(){return Sd}};ea=pe;!0;var Mf=sh.getInstance(pe,p,Xb);return Mf.initiateNetworkRequestTracking(),fa(fa({},pe),{id:h,namespace:m,core:vb,sharedState:q})}(a,c,b,d,e);var f=fa(fa({},a),{addPlugin:function(h){var m,l,q;null===(m=null==f?void 0:f.core)||void 0===m||m.addPlugin(h);null===(q=(l=h.plugin).activateBrowserPlugin)||
  void 0===q||q.call(l,f)}});return g.forEach(function(h){var m;null===(m=h.activateBrowserPlugin)||void 0===m||m.call(h,f)}),eh(f),ch(f),Ba=f,f}function ab(a,c){try{var b=null!=a?a:Object.keys(Lb);a=Lb;for(var d=[],e=0;e<b.length;e++){var g=b[e];a.hasOwnProperty(g)?d.push(a[g]):ha.warn(g+" not configured")}d.forEach(c)}catch(f){ha.error("Function failed",f)}}var fa=function(){return fa=Object.assign||function(a){for(var c,b=1,d=arguments.length;b<d;b++)for(var e in c=arguments[b])Object.prototype.hasOwnProperty.call(c,
  e)&&(a[e]=c[e]);return a},fa.apply(this,arguments)},md={},Nf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Nf){var Of=new Uint8Array(16);md=function(){return Nf(Of),Of}}else{var Pf=Array(16);md=function(){for(var a,c=0;16>c;c++)0==(3&c)&&(a=4294967296*Math.random()),Pf[c]=a>>>((3&c)<<3)&255;return Pf}}for(var Ka=[],nd=0;256>nd;++nd)Ka[nd]=
  (nd+256).toString(16).substr(1);var Qf,qe,Rf=function(a,c){c=c||0;return[Ka[a[c++]],Ka[a[c++]],Ka[a[c++]],Ka[a[c++]],"-",Ka[a[c++]],Ka[a[c++]],"-",Ka[a[c++]],Ka[a[c++]],"-",Ka[a[c++]],Ka[a[c++]],"-",Ka[a[c++]],Ka[a[c++]],Ka[a[c++]],Ka[a[c++]],Ka[a[c++]],Ka[a[c++]]].join("")},th=md,re=0,se=0,uh=md,te=function(a,c,b){b=c&&b||0;"string"==typeof a&&(c="binary"===a?Array(16):null,a=null);var d=(a=a||{}).random||(a.rng||uh)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c)for(a=0;16>a;++a)c[b+a]=d[a];return c||
  Rf(d)};te.v1=function(a,c,b){b=c&&b||0;var d=c||[],e=(a=a||{}).node||Qf,g=void 0!==a.clockseq?a.clockseq:qe;if(null==e||null==g){var f=th();null==e&&(e=Qf=[1|f[0],f[1],f[2],f[3],f[4],f[5]]);null==g&&(g=qe=16383&(f[6]<<8|f[7]))}f=void 0!==a.msecs?a.msecs:(new Date).getTime();var h=void 0!==a.nsecs?a.nsecs:se+1,m=f-re+(h-se)/1E4;if(0>m&&void 0===a.clockseq&&(g=g+1&16383),(0>m||f>re)&&void 0===a.nsecs&&(h=0),1E4<=h)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");re=f;se=h;qe=g;a=(1E4*
  (268435455&(f+=122192928E5))+h)%4294967296;d[b++]=a>>>24&255;d[b++]=a>>>16&255;d[b++]=a>>>8&255;d[b++]=255&a;a=f/4294967296*1E4&268435455;d[b++]=a>>>8&255;d[b++]=255&a;d[b++]=a>>>24&15|16;d[b++]=a>>>16&255;d[b++]=g>>>8|128;d[b++]=255&g;for(g=0;6>g;++g)d[b+g]=e[g];return c||Rf(d)};var sb=te.v4=te,Xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qb;!function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"}(qb||(qb={}));var Sf,
  ha=function(a){void 0===a&&(a=qb.warn);return{setLogLevel:function(c){a=qb[c]?c:qb.warn},warn:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];a>=qb.warn&&"undefined"!=typeof console&&(e="Conviva: "+c,b?console.warn.apply(console,Ea([e+"\n",b],d,!1)):console.warn.apply(console,Ea([e],d,!1)))},error:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];a>=qb.error&&"undefined"!=typeof console&&(e="Conviva: "+c+"\n",b?console.error.apply(console,Ea([e+"\n",
  b],d,!1)):console.error.apply(console,Ea([e],d,!1)))},debug:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=qb.debug&&"undefined"!=typeof console&&console.debug.apply(console,Ea(["Conviva: "+c],b,!1))},info:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=qb.info&&"undefined"!=typeof console&&console.info.apply(console,Ea(["Conviva: "+c],b,!1))}}}();!function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers=
  "rqh";a.request_query="rqq"}(Sf||(Sf={}));var od,Tf={},Uf={};Uf=od={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return 16711935&od.rotl(a,8)|4278255360&od.rotl(a,24);for(var c=0;c<a.length;c++)a[c]=od.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],b=0,d=0;b<a.length;b++,d+=8)c[d>>>5]|=a[b]<<24-d%32;return c},wordsToBytes:function(a){for(var c=
  [],b=0;b<32*a.length;b+=8)c.push(a[b>>>5]>>>24-b%32&255);return c},bytesToHex:function(a){for(var c=[],b=0;b<a.length;b++)c.push((a[b]>>>4).toString(16)),c.push((15&a[b]).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],b=0;b<a.length;b+=2)c.push(parseInt(a.substr(b,2),16));return c},bytesToBase64:function(a){for(var c=[],b=0;b<a.length;b+=3)for(var d=a[b]<<16|a[b+1]<<8|a[b+2],e=0;4>e;e++)8*b+6*e<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>
  6*(3-e)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],b=0,d=0;b<a.length;d=++b%4)0!=d&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b-1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b))>>>6-2*d);return c}};var ue={utf8:{stringToBytes:function(a){return ue.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(ue.bin.bytesToString(a)))}},
  bin:{stringToBytes:function(a){for(var c=[],b=0;b<a.length;b++)c.push(255&a.charCodeAt(b));return c},bytesToString:function(a){for(var c=[],b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return c.join("")}}},Vf=ue;!function(){var a=Uf,c=Vf.utf8,b=Vf.bin,d=function(e,g){var f=a.wordsToBytes,h=e;h.constructor==String?h=c.stringToBytes(h):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(h)?h=Array.prototype.slice.call(h,0):Array.isArray(h)||(h=h.toString());e=a.bytesToWords(h);
  var m=8*h.length;h=[];var l=1732584193,q=-271733879,p=-1732584194,n=271733878,y=-1009589776;e[m>>5]|=128<<24-m%32;e[15+(m+64>>>9<<4)]=m;for(m=0;m<e.length;m+=16){for(var E=l,x=q,z=p,w=n,u=y,r=0;80>r;r++){if(16>r)h[r]=e[m+r];else{var G=h[r-3]^h[r-8]^h[r-14]^h[r-16];h[r]=G<<1|G>>>31}G=(l<<5|l>>>27)+y+(h[r]>>>0)+(20>r?1518500249+(q&p|~q&n):40>r?1859775393+(q^p^n):60>r?(q&p|q&n|p&n)-1894007588:(q^p^n)-899497514);y=n;n=p;p=q<<30|q>>>2;q=l;l=G}l+=E;q+=x;p+=z;n+=w;y+=u}f=f.call(a,[l,q,p,n,y]);return g&&
  g.asBytes?f:g&&g.asString?b.bytesToString(f):a.bytesToHex(f)};d._blocksize=16;d._digestsize=20;Tf=d}();var gh=Tf,ve=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),pd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vh=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rb=Array(576);Sb(rb);var Cc=Array(60);Sb(Cc);var Mb=Array(512);Sb(Mb);var Dc=Array(256);Sb(Dc);
  var we=Array(29);Sb(we);var Xf,Yf,Zf,qd=Array(30);Sb(qd);var Ec=function(a,c){a.pending_buf[a.pending++]=255&c;a.pending_buf[a.pending++]=c>>>8&255},Ta=function(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,Ec(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=b)},ib=function(a,c,b){Ta(a,b[2*c],b[2*c+1])},$f=function(a,c){var b=0;do b|=1&a,a>>>=1,b<<=1;while(0<--c);return b>>>1},ag=function(a,c,b){var d,e=Array(16),g=0;for(d=1;15>=d;d++)g=g+
  b[d-1]<<1,e[d]=g;for(b=0;b<=c;b++)d=a[2*b+1],0!==d&&(a[2*b]=$f(e[d]++,d))},bg=function(a){var c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},cg=function(a){8<a.bi_valid?Ec(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},dg=function(a,c,b,d){var e=2*c,g=2*b;return a[e]<a[g]||a[e]===a[g]&&d[c]<=d[b]},xe=function(a,c,b){for(var d=a.heap[b],
  e=b<<1;e<=a.heap_len&&(e<a.heap_len&&dg(c,a.heap[e+1],a.heap[e],a.depth)&&e++,!dg(c,d,a.heap[e],a.depth));)a.heap[b]=a.heap[e],b=e,e<<=1;a.heap[b]=d},eg=function(a,c,b){var d,e,g=0;if(0!==a.sym_next){do{var f=255&a.pending_buf[a.sym_buf+g++];f+=(255&a.pending_buf[a.sym_buf+g++])<<8;var h=a.pending_buf[a.sym_buf+g++];0===f?ib(a,h,c):(d=Dc[h],ib(a,d+256+1,c),0!==(e=ve[d])&&(h-=we[d],Ta(a,h,e)),f--,d=256>f?Mb[f]:Mb[256+(f>>>7)],ib(a,d,b),0!==(e=pd[d])&&(f-=qd[d],Ta(a,f,e)))}while(g<a.sym_next)}ib(a,
  256,c)},ye=function(a,c){var b,d,e=c.dyn_tree;var g=c.stat_desc.static_tree;var f=c.stat_desc.has_stree,h=c.stat_desc.elems,m=-1;a.heap_len=0;a.heap_max=573;for(b=0;b<h;b++)0!==e[2*b]?(a.heap[++a.heap_len]=m=b,a.depth[b]=0):e[2*b+1]=0;for(;2>a.heap_len;)e[2*(d=a.heap[++a.heap_len]=2>m?++m:0)]=1,a.depth[d]=0,a.opt_len--,f&&(a.static_len-=g[2*d+1]);c.max_code=m;for(b=a.heap_len>>1;1<=b;b--)xe(a,e,b);d=h;do b=a.heap[1],a.heap[1]=a.heap[a.heap_len--],xe(a,e,1),g=a.heap[1],a.heap[--a.heap_max]=b,a.heap[--a.heap_max]=
  g,e[2*d]=e[2*b]+e[2*g],a.depth[d]=(a.depth[b]>=a.depth[g]?a.depth[b]:a.depth[g])+1,e[2*b+1]=e[2*g+1]=d,a.heap[1]=d++,xe(a,e,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];var l,q,p,n,y;b=c.dyn_tree;d=c.max_code;g=c.stat_desc.static_tree;f=c.stat_desc.has_stree;h=c.stat_desc.extra_bits;var E=c.stat_desc.extra_base,x=c.stat_desc.max_length,z=0;for(p=0;15>=p;p++)a.bl_count[p]=0;b[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)(p=b[2*b[2*(l=a.heap[c])+1]+1]+1)>x&&(p=x,z++),b[2*l+1]=p,
  l>d||(a.bl_count[p]++,n=0,l>=E&&(n=h[l-E]),y=b[2*l],a.opt_len+=y*(p+n),f&&(a.static_len+=y*(g[2*l+1]+n)));if(0!==z){do{for(p=x-1;0===a.bl_count[p];)p--;a.bl_count[p]--;a.bl_count[p+1]+=2;a.bl_count[x]--;z-=2}while(0<z);for(p=x;0!==p;p--)for(l=a.bl_count[p];0!==l;)(q=a.heap[--c])>d||(b[2*q+1]!==p&&(a.opt_len+=(p-b[2*q+1])*b[2*q],b[2*q+1]=p),l--)}ag(e,m,a.bl_count)},fg=function(a,c,b){var d,e=-1,g=c[1],f=0,h=7,m=4;0===g&&(h=138,m=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++){var l=g;g=c[2*(d+1)+1];++f<h&&
  l===g||(f<m?a.bl_tree[2*l]+=f:0!==l?(l!==e&&a.bl_tree[2*l]++,a.bl_tree[32]++):10>=f?a.bl_tree[34]++:a.bl_tree[36]++,f=0,e=l,0===g?(h=138,m=3):l===g?(h=6,m=3):(h=7,m=4))}},gg=function(a,c,b){var d,e,g=-1,f=c[1],h=0,m=7,l=4;0===f&&(m=138,l=3);for(d=0;d<=b;d++)if(e=f,f=c[2*(d+1)+1],!(++h<m&&e===f)){if(h<l){do ib(a,e,a.bl_tree);while(0!=--h)}else 0!==e?(e!==g&&(ib(a,e,a.bl_tree),h--),ib(a,16,a.bl_tree),Ta(a,h-3,2)):10>=h?(ib(a,17,a.bl_tree),Ta(a,h-3,3)):(ib(a,18,a.bl_tree),Ta(a,h-11,7));h=0;g=e;0===f?
  (m=138,l=3):e===f?(m=6,l=3):(m=7,l=4)}},hg=!1,rd=function(a,c,b,d){Ta(a,d?1:0,3);cg(a);Ec(a,b);Ec(a,~b);b&&a.pending_buf.set(a.window.subarray(c,c+b),a.pending);a.pending+=b},Fc=function(a,c,b,d){var e=65535&a|0;a=a>>>16&65535|0;for(var g;0!==b;){b-=g=2E3<b?2E3:b;do a=a+(e=e+c[d++]|0)|0;while(--g);e%=65521;a%=65521}return e|a<<16|0},wh=new Uint32Array(function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;c[b]=a}return c}()),Ha=function(a,c,b,d){b=d+b;for(a^=
  -1;d<b;d++)a=a>>>8^wh[255&(a^c[d])];return-1^a},Db={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Y={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,
  Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},xh=function(a,c,b,d){var e,g,f=0;0<a.level?(2===a.strm.data_type&&(a.strm.data_type=function(h){var m,l=4093624447;for(m=0;31>=m;m++,l>>>=1)if(1&l&&0!==h.dyn_ltree[2*m])return 0;if(0!==h.dyn_ltree[18]||0!==h.dyn_ltree[20]||0!==h.dyn_ltree[26])return 1;for(m=32;256>m;m++)if(0!==h.dyn_ltree[2*m])return 1;return 0}(a)),ye(a,a.l_desc),ye(a,a.d_desc),f=function(h){var m;fg(h,h.dyn_ltree,h.l_desc.max_code);
  fg(h,h.dyn_dtree,h.d_desc.max_code);ye(h,h.bl_desc);for(m=18;3<=m&&0===h.bl_tree[2*Wf[m]+1];m--);return h.opt_len+=3*(m+1)+14,m}(a),e=a.opt_len+3+7>>>3,(g=a.static_len+3+7>>>3)<=e&&(e=g)):e=g=b+5;b+4<=e&&-1!==c?rd(a,c,b,d):4===a.strategy||g===e?(Ta(a,2+(d?1:0),3),eg(a,rb,Cc)):(Ta(a,4+(d?1:0),3),function(h,m,l,q){var p;Ta(h,m-257,5);Ta(h,l-1,5);Ta(h,q-4,4);for(p=0;p<q;p++)Ta(h,h.bl_tree[2*Wf[p]+1],3);gg(h,h.dyn_ltree,m-1);gg(h,h.dyn_dtree,l-1)}(a,a.l_desc.max_code+1,a.d_desc.max_code+1,f+1),eg(a,a.dyn_ltree,
  a.dyn_dtree));bg(a);d&&cg(a)},yb=function(a,c,b){return a.pending_buf[a.sym_buf+a.sym_next++]=c,a.pending_buf[a.sym_buf+a.sym_next++]=c>>8,a.pending_buf[a.sym_buf+a.sym_next++]=b,0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(Dc[b]+256+1)]++,a.dyn_dtree[2*(256>c?Mb[c]:Mb[256+(c>>>7)])]++),a.sym_next===a.sym_end},yh=function(a){Ta(a,2,3);ib(a,256,rb);16===a.bi_valid?(Ec(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)},
  zb=Y.Z_NO_FLUSH,zh=Y.Z_PARTIAL_FLUSH,Ah=Y.Z_FULL_FLUSH,bb=Y.Z_FINISH,ig=Y.Z_BLOCK,La=Y.Z_OK,jg=Y.Z_STREAM_END,jb=Y.Z_STREAM_ERROR,Bh=Y.Z_DATA_ERROR,ze=Y.Z_BUF_ERROR,Ch=Y.Z_DEFAULT_COMPRESSION,Dh=Y.Z_FILTERED,sd=Y.Z_HUFFMAN_ONLY,Eh=Y.Z_RLE,Fh=Y.Z_FIXED,Gh=Y.Z_DEFAULT_STRATEGY,Hh=Y.Z_UNKNOWN,Oc=Y.Z_DEFLATED,Nb=function(a,c){return a.msg=Db[c],c},tb=function(a){for(var c=a.length;0<=--c;)a[c]=0},Ab=function(a,c,b){return(c<<a.hash_shift^b)&a.hash_mask},Va=function(a){var c=a.state,b=c.pending;b>a.avail_out&&
  (b=a.avail_out);0!==b&&(a.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+b),a.next_out),a.next_out+=b,c.pending_out+=b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))},Wa=function(a,c){xh(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=a.strstart;Va(a.strm)},ka=function(a,c){a.pending_buf[a.pending++]=c},Gc=function(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=255&c},Ae=function(a,c,b,d){var e=a.avail_in;
  return e>d&&(e=d),0===e?0:(a.avail_in-=e,c.set(a.input.subarray(a.next_in,a.next_in+e),b),1===a.state.wrap?a.adler=Fc(a.adler,c,e,b):2===a.state.wrap&&(a.adler=Ha(a.adler,c,e,b)),a.next_in+=e,a.total_in+=e,e)},kg=function(a,c){var b,d,e=a.max_chain_length,g=a.strstart,f=a.prev_length,h=a.nice_match,m=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,l=a.window,q=a.w_mask,p=a.prev,n=a.strstart+258,y=l[g+f-1],E=l[g+f];a.prev_length>=a.good_match&&(e>>=2);h>a.lookahead&&(h=a.lookahead);do if(l[(b=
  c)+f]===E&&l[b+f-1]===y&&l[b]===l[g]&&l[++b]===l[g+1]){g+=2;for(b++;l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&l[++g]===l[++b]&&g<n;);if(d=258-(n-g),g=n-258,d>f){if(a.match_start=c,f=d,d>=h)break;y=l[g+f-1];E=l[g+f]}}while((c=p[c&q])>m&&0!=--e);return f<=a.lookahead?f:a.lookahead},dc=function(a){var c,b=a.w_size;do{var d=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){a.window.set(a.window.subarray(b,b+b-d),
  0);a.match_start-=b;a.strstart-=b;a.block_start-=b;a.insert>a.strstart&&(a.insert=a.strstart);var e,g=a,f=g.w_size;var h=e=g.hash_size;do{var m=g.head[--h];g.head[h]=m>=f?m-f:0}while(--e);h=e=f;do m=g.prev[--h],g.prev[h]=m>=f?m-f:0;while(--e);d+=b}if(0===a.strm.avail_in)break;if(c=Ae(a.strm,a.window,a.strstart+a.lookahead,d),a.lookahead+=c,3<=a.lookahead+a.insert)for(d=a.strstart-a.insert,a.ins_h=a.window[d],a.ins_h=Ab(a,a.ins_h,a.window[d+1]);a.insert&&(a.ins_h=Ab(a,a.ins_h,a.window[d+3-1]),a.prev[d&
  a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++,a.insert--,!(3>a.lookahead+a.insert)););}while(262>a.lookahead&&0!==a.strm.avail_in)},lg=function(a,c){var b,d,e,g=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,f=0,h=a.strm.avail_in;do{if(b=65535,e=a.bi_valid+42>>3,a.strm.avail_out<e)break;if(e=a.strm.avail_out-e,b>(d=a.strstart-a.block_start)+a.strm.avail_in&&(b=d+a.strm.avail_in),b>e&&(b=e),b<g&&(0===b&&c!==bb||c===zb||b!==d+a.strm.avail_in))break;f=c===bb&&b===d+a.strm.avail_in?1:0;
  rd(a,0,0,f);a.pending_buf[a.pending-4]=b;a.pending_buf[a.pending-3]=b>>8;a.pending_buf[a.pending-2]=~b;a.pending_buf[a.pending-1]=~b>>8;Va(a.strm);d&&(d>b&&(d=b),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+d),a.strm.next_out),a.strm.next_out+=d,a.strm.avail_out-=d,a.strm.total_out+=d,a.block_start+=d,b-=d);b&&(Ae(a.strm,a.strm.output,a.strm.next_out,b),a.strm.next_out+=b,a.strm.avail_out-=b,a.strm.total_out+=b)}while(0===f);return(h-=a.strm.avail_in)&&(h>=a.w_size?(a.matches=2,
  a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=h&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-h,a.strm.next_in),a.strstart),a.strstart+=h,a.insert+=h>a.w_size-a.insert?a.w_size-a.insert:h),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=
  a.strstart),f?4:c!==zb&&c!==bb&&0===a.strm.avail_in&&a.strstart===a.block_start?2:(e=a.window_size-a.strstart,a.strm.avail_in>e&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,e+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),e>a.strm.avail_in&&(e=a.strm.avail_in),e&&(Ae(a.strm,a.window,a.strstart,e),a.strstart+=e,a.insert+=e>a.w_size-a.insert?a.w_size-a.insert:e),a.high_water<a.strstart&&
  (a.high_water=a.strstart),e=a.bi_valid+42>>3,g=(e=65535<a.pending_buf_size-e?65535:a.pending_buf_size-e)>a.w_size?a.w_size:e,((d=a.strstart-a.block_start)>=g||(d||c===bb)&&c!==zb&&0===a.strm.avail_in&&d<=e)&&(b=d>e?e:d,f=c===bb&&0===a.strm.avail_in&&b===d?1:0,rd(a,a.block_start,b,f),a.block_start+=b,Va(a.strm)),f?3:1)},Be=function(a,c){for(var b,d;;){if(262>a.lookahead){if(dc(a),262>a.lookahead&&c===zb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ab(a,a.ins_h,a.window[a.strstart+
  3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=kg(a,b)),3<=a.match_length)if(d=yb(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=Ab(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,
  a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Ab(a,a.ins_h,a.window[a.strstart+1]);else d=yb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(Wa(a,!1),0===a.strm.avail_out))return 1}return a.insert=2>a.strstart?a.strstart:2,c===bb?(Wa(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Wa(a,!1),0===a.strm.avail_out)?1:2},ec=function(a,c){for(var b,d,e;;){if(262>a.lookahead){if(dc(a),262>a.lookahead&&c===zb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ab(a,a.ins_h,
  a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,0!==b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=kg(a,b),5>=a.match_length&&(a.strategy===Dh||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2)),3<=a.prev_length&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3;d=yb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=
  a.prev_length-1;a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=Ab(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!=--a.prev_length);if(a.match_available=0,a.match_length=2,a.strstart++,d&&(Wa(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if(yb(a,0,a.window[a.strstart-1])&&Wa(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&
  (yb(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=2>a.strstart?a.strstart:2,c===bb?(Wa(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Wa(a,!1),0===a.strm.avail_out)?1:2},Hc=[new fb(0,0,0,0,lg),new fb(4,4,8,4,Be),new fb(4,5,16,8,Be),new fb(4,6,32,32,Be),new fb(4,4,16,16,ec),new fb(8,16,32,32,ec),new fb(8,16,128,128,ec),new fb(8,32,128,256,ec),new fb(32,128,258,1024,ec),new fb(32,258,258,4096,ec)],Ic=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||42!==c.status&&57!==c.status&&
  69!==c.status&&73!==c.status&&91!==c.status&&103!==c.status&&113!==c.status&&666!==c.status?1:0},mg=function(a){if(Ic(a))return Nb(a,jb);a.total_in=a.total_out=0;a.data_type=Hh;var c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=2===c.wrap?57:c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=-2;if(!hg){var b,d,e;a=Array(16);for(e=d=0;28>e;e++)for(we[e]=d,b=0;b<1<<ve[e];b++)Dc[d++]=e;Dc[d-1]=e;for(e=d=0;16>e;e++)for(qd[e]=d,b=0;b<1<<pd[e];b++)Mb[d++]=e;for(d>>=7;30>e;e++)for(qd[e]=
  d<<7,b=0;b<1<<pd[e]-7;b++)Mb[256+d++]=e;for(b=0;15>=b;b++)a[b]=0;for(b=0;143>=b;)rb[2*b+1]=8,b++,a[8]++;for(;255>=b;)rb[2*b+1]=9,b++,a[9]++;for(;279>=b;)rb[2*b+1]=7,b++,a[7]++;for(;287>=b;)rb[2*b+1]=8,b++,a[8]++;ag(rb,287,a);for(b=0;30>b;b++)Cc[2*b+1]=5,Cc[2*b]=$f(b,5);Xf=new Cd(rb,ve,257,286,15);Yf=new Cd(Cc,pd,0,30,15);Zf=new Cd([],vh,0,19,7);!0;hg=!0}c.l_desc=new Dd(c.dyn_ltree,Xf);c.d_desc=new Dd(c.dyn_dtree,Yf);c.bl_desc=new Dd(c.bl_tree,Zf);c.bi_buf=0;c.bi_valid=0;bg(c);return La},ng=function(a){var c,
  b=mg(a);return b===La&&((c=a.state).window_size=2*c.w_size,tb(c.head),c.max_lazy_match=Hc[c.level].max_lazy,c.good_match=Hc[c.level].good_length,c.nice_match=Hc[c.level].nice_length,c.max_chain_length=Hc[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=2,c.match_available=0,c.ins_h=0),b},og=function(a,c,b,d,e,g){if(!a)return jb;var f=1;if(c===Ch&&(c=6),0>d?(f=0,d=-d):15<d&&(f=2,d-=16),1>e||9<e||b!==Oc||8>d||15<d||0>c||9<c||0>g||g>Fh||8===d&&1!==
  f)return Nb(a,jb);8===d&&(d=9);var h=new Mg;return a.state=h,h.strm=a,h.status=42,h.wrap=f,h.gzhead=null,h.w_bits=d,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=e+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<e+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=
  3*(h.lit_bufsize-1),h.level=c,h.strategy=g,h.method=b,ng(a)},hc={deflateInit:function(a,c){return og(a,c,Oc,15,8,Gh)},deflateInit2:og,deflateReset:ng,deflateResetKeep:mg,deflateSetHeader:function(a,c){return Ic(a)||2!==a.state.wrap?jb:(a.state.gzhead=c,La)},deflate:function(a,c){if(Ic(a)||c>ig||0>c)return a?Nb(a,jb):jb;var b=a.state;if(!a.output||0!==a.avail_in&&!a.input||666===b.status&&c!==bb)return Nb(a,0===a.avail_out?ze:jb);var d=b.last_flush;if(b.last_flush=c,0!==b.pending){if(Va(a),0===a.avail_out)return b.last_flush=
  -1,La}else if(0===a.avail_in&&2*c-(4<c?9:0)<=2*d-(4<d?9:0)&&c!==bb)return Nb(a,ze);if(666===b.status&&0!==a.avail_in)return Nb(a,ze);if(42===b.status&&0===b.wrap&&(b.status=113),42===b.status)if(d=Oc+(b.w_bits-8<<4)<<8,d|=(b.strategy>=sd||2>b.level?0:6>b.level?1:6===b.level?2:3)<<6,0!==b.strstart&&(d|=32),Gc(b,d+=31-d%31),0!==b.strstart&&(Gc(b,a.adler>>>16),Gc(b,65535&a.adler)),a.adler=1,b.status=113,Va(a),0!==b.pending)return b.last_flush=-1,La;if(57===b.status)if(a.adler=0,ka(b,31),ka(b,139),ka(b,
  8),b.gzhead)ka(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ka(b,255&b.gzhead.time),ka(b,b.gzhead.time>>8&255),ka(b,b.gzhead.time>>16&255),ka(b,b.gzhead.time>>24&255),ka(b,9===b.level?2:b.strategy>=sd||2>b.level?4:0),ka(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(ka(b,255&b.gzhead.extra.length),ka(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(a.adler=Ha(a.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(ka(b,
  0),ka(b,0),ka(b,0),ka(b,0),ka(b,0),ka(b,9===b.level?2:b.strategy>=sd||2>b.level?4:0),ka(b,3),b.status=113,Va(a),0!==b.pending)return b.last_flush=-1,La;if(69===b.status){if(b.gzhead.extra){d=b.pending;for(var e=(65535&b.gzhead.extra.length)-b.gzindex;b.pending+e>b.pending_buf_size;){var g=b.pending_buf_size-b.pending;if(b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+g),b.pending),b.pending=b.pending_buf_size,b.gzhead.hcrc&&b.pending>d&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-d,
  d)),b.gzindex+=g,Va(a),0!==b.pending)return b.last_flush=-1,La;d=0;e-=g}g=new Uint8Array(b.gzhead.extra);b.pending_buf.set(g.subarray(b.gzindex,b.gzindex+e),b.pending);b.pending+=e;b.gzhead.hcrc&&b.pending>d&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-d,d));b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){e=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-e,e)),Va(a),0!==b.pending)return b.last_flush=-1,La;e=0}d=
  b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0;ka(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-e,e));b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){e=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-e,e)),Va(a),0!==b.pending)return b.last_flush=-1,La;e=0}d=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0;
  ka(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Ha(a.adler,b.pending_buf,b.pending-e,e))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(Va(a),0!==b.pending))return b.last_flush=-1,La;ka(b,255&a.adler);ka(b,a.adler>>8&255);a.adler=0}if(b.status=113,Va(a),0!==b.pending)return b.last_flush=-1,La}if(0!==a.avail_in||0!==b.lookahead||c!==zb&&666!==b.status){d=0===b.level?lg(b,c):b.strategy===sd?function(f,h){for(var m;;){if(0===f.lookahead&&(dc(f),0===f.lookahead)){if(h===
  zb)return 1;break}if(f.match_length=0,m=yb(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,m&&(Wa(f,!1),0===f.strm.avail_out))return 1}return f.insert=0,h===bb?(Wa(f,!0),0===f.strm.avail_out?3:4):f.sym_next&&(Wa(f,!1),0===f.strm.avail_out)?1:2}(b,c):b.strategy===Eh?function(f,h){for(var m,l,q,p,n=f.window;;){if(258>=f.lookahead){if(dc(f),258>=f.lookahead&&h===zb)return 1;if(0===f.lookahead)break}if(f.match_length=0,3<=f.lookahead&&0<f.strstart&&(l=n[q=f.strstart-1])===n[++q]&&l===n[++q]&&l===
  n[++q]){for(p=f.strstart+258;l===n[++q]&&l===n[++q]&&l===n[++q]&&l===n[++q]&&l===n[++q]&&l===n[++q]&&l===n[++q]&&l===n[++q]&&q<p;);f.match_length=258-(p-q);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(3<=f.match_length?(m=yb(f,1,f.match_length-3),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(m=yb(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),m&&(Wa(f,!1),0===f.strm.avail_out))return 1}return f.insert=0,h===bb?(Wa(f,!0),0===f.strm.avail_out?3:4):f.sym_next&&
  (Wa(f,!1),0===f.strm.avail_out)?1:2}(b,c):Hc[b.level].func(b,c);if(3!==d&&4!==d||(b.status=666),1===d||3===d)return 0===a.avail_out&&(b.last_flush=-1),La;if(2===d&&(c===zh?yh(b):c!==ig&&(rd(b,0,0,!1),c===Ah&&(tb(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),Va(a),0===a.avail_out))return b.last_flush=-1,La}return c!==bb?La:0>=b.wrap?jg:(2===b.wrap?(ka(b,255&a.adler),ka(b,a.adler>>8&255),ka(b,a.adler>>16&255),ka(b,a.adler>>24&255),ka(b,255&a.total_in),ka(b,a.total_in>>8&255),
  ka(b,a.total_in>>16&255),ka(b,a.total_in>>24&255)):(Gc(b,a.adler>>>16),Gc(b,65535&a.adler)),Va(a),0<b.wrap&&(b.wrap=-b.wrap),0!==b.pending?La:jg)},deflateEnd:function(a){if(Ic(a))return jb;var c=a.state.status;return a.state=null,113===c?Nb(a,Bh):La},deflateSetDictionary:function(a,c){var b=c.length;if(Ic(a))return jb;var d=a.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return jb;if(1===e&&(a.adler=Fc(a.adler,c,b,0)),d.wrap=0,b>=d.w_size){0===e&&(tb(d.head),d.strstart=0,d.block_start=
  0,d.insert=0);var g=new Uint8Array(d.w_size);g.set(c.subarray(b-d.w_size,b),0);c=g;b=d.w_size}g=a.avail_in;var f=a.next_in,h=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(dc(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=Ab(d,d.ins_h,d.window[c+3-1]),d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--b);d.strstart=c;d.lookahead=2;dc(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=
  0,a.next_in=f,a.input=h,a.avail_in=g,d.wrap=e,La},deflateInfo:"pako deflate (from Nodeca project)"},Ue=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var b=c.shift();if(b){if("object"!==la(b))throw new TypeError(b+"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}}return a},pg=function(a){for(var c=0,b=0,d=a.length;b<d;b++)c+=a[b].length;c=new Uint8Array(c);d=b=0;for(var e=a.length;b<e;b++){var g=a[b];c.set(g,d);d+=g.length}return c},
  qg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){qg=!1}for(var Jc=new Uint8Array(256),Bb=0;256>Bb;Bb++)Jc[Bb]=252<=Bb?6:248<=Bb?5:240<=Bb?4:224<=Bb?3:192<=Bb?2:1;Jc[254]=Jc[254]=1;var Ed=function(a){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);var c,b,d,e,g=a.length,f=0;for(d=0;d<g;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<g&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),f+=128>c?1:2048>c?2:65536>
  c?3:4;var h=new Uint8Array(f);for(d=e=0;e<f;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<g&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),128>c?h[e++]=c:2048>c?(h[e++]=192|c>>>6,h[e++]=128|63&c):65536>c?(h[e++]=224|c>>>12,h[e++]=128|c>>>6&63,h[e++]=128|63&c):(h[e++]=240|c>>>18,h[e++]=128|c>>>12&63,h[e++]=128|c>>>6&63,h[e++]=128|63&c);return h},Ve=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=
  0;this.msg="";this.state=null;this.data_type=2;this.adler=0},We=Object.prototype.toString,Ih=Y.Z_NO_FLUSH,Jh=Y.Z_SYNC_FLUSH,Kh=Y.Z_FULL_FLUSH,Lh=Y.Z_FINISH,Pc=Y.Z_OK,Mh=Y.Z_STREAM_END,Ng=Y.Z_DEFAULT_COMPRESSION,Pg=Y.Z_DEFAULT_STRATEGY,Og=Y.Z_DEFLATED;gc.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?Lh:Ih;"string"==typeof a?b.input=Ed(a):"[object ArrayBuffer]"===We.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=
  b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(d),b.next_out=0,b.avail_out=d),(c===Jh||c===Kh)&&6>=b.avail_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if((a=hc.deflate(b,c))===Mh)return 0<b.next_out&&this.onData(b.output.subarray(0,b.next_out)),a=hc.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Pc;if(0!==b.avail_out)if(0<c&&0<b.next_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if(0===b.avail_in)break}else this.onData(b.output)}return!0};
  gc.prototype.onData=function(a){this.chunks.push(a)};gc.prototype.onEnd=function(a){a===Pc&&(this.result=pg(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Nh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Oh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ph=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,
  4097,6145,8193,12289,16385,24577,0,0]),Qh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Kc=function(a,c,b,d,e,g,f,h){var m,l,q,p,n,y,E=h.bits,x,z,w,u,r,G=0,K,O=null,C=new Uint16Array(16);var F=new Uint16Array(16);var N=null;for(x=0;15>=x;x++)C[x]=0;for(z=0;z<d;z++)C[c[b+z]]++;var P=E;for(w=15;1<=w&&0===C[w];w--);if(P>w&&(P=w),0===w)return e[g++]=20971520,e[g++]=20971520,h.bits=1,0;for(E=1;E<w&&0===C[E];E++);P<E&&(P=E);for(x=m=1;15>=
  x;x++)if(m<<=1,0>(m-=C[x]))return-1;if(0<m&&(0===a||1!==w))return-1;F[1]=0;for(x=1;15>x;x++)F[x+1]=F[x]+C[x];for(z=0;z<d;z++)0!==c[b+z]&&(f[F[c[b+z]]++]=z);if(0===a?(O=N=f,p=20):1===a?(O=Nh,N=Oh,p=257):(O=Ph,N=Qh,p=0),K=0,z=0,x=E,F=g,u=P,r=0,q=-1,d=(G=1<<P)-1,1===a&&852<G||2===a&&592<G)return 1;for(;;){var Q=x-r;f[z]+1<p?(n=0,y=f[z]):f[z]>=p?(n=N[f[z]-p],y=O[f[z]-p]):(n=96,y=0);m=1<<x-r;E=l=1<<u;do e[F+(K>>r)+(l-=m)]=Q<<24|n<<16|y|0;while(0!==l);for(m=1<<x-1;K&m;)m>>=1;if(0!==m?(K&=m-1,K+=m):K=0,
  z++,0==--C[x]){if(x===w)break;x=c[b+f[z]]}if(x>P&&(K&d)!==q){0===r&&(r=P);F+=E;for(m=1<<(u=x-r);u+r<w&&!(0>=(m-=C[u+r]));)u++,m<<=1;if(G+=1<<u,1===a&&852<G||2===a&&592<G)return 1;e[q=K&d]=P<<24|u<<16|F-g|0}}return 0!==K&&(e[F+K]=x-r<<24|4194304),h.bits=P,0},rg=Y.Z_FINISH,Rh=Y.Z_BLOCK,td=Y.Z_TREES,Ob=Y.Z_OK,Sh=Y.Z_STREAM_END,Th=Y.Z_NEED_DICT,eb=Y.Z_STREAM_ERROR,sg=Y.Z_DATA_ERROR,tg=Y.Z_MEM_ERROR,Uh=Y.Z_BUF_ERROR,ug=Y.Z_DEFLATED,vg=function(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<
  24)},Ce,De,Pb=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||16180>c.mode||16211<c.mode?1:0},wg=function(a){if(Pb(a))return eb;var c=a.state;return a.total_in=a.total_out=c.total=0,a.msg="",c.wrap&&(a.adler=1&c.wrap),c.mode=16180,c.last=0,c.havedict=0,c.flags=-1,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new Int32Array(852),c.distcode=c.distdyn=new Int32Array(592),c.sane=1,c.back=-1,Ob},xg=function(a){if(Pb(a))return eb;var c=a.state;return c.wsize=0,c.whave=0,c.wnext=
  0,wg(a)},yg=function(a,c){var b;if(Pb(a))return eb;var d=a.state;return 0>c?(b=0,c=-c):(b=5+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?eb:(null!==d.window&&d.wbits!==c&&(d.window=null),d.wrap=b,d.wbits=c,xg(a))},zg=function(a,c){if(!a)return eb;var b=new Qg;a.state=b;b.strm=a;b.window=null;b.mode=16180;c=yg(a,c);return c!==Ob&&(a.state=null),c},Ag=!0,Bg=function(a,c,b,d){var e;a=a.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),d>=a.wsize?(a.window.set(c.subarray(b-
  a.wsize,b),0),a.wnext=0,a.whave=a.wsize):((e=a.wsize-a.wnext)>d&&(e=d),a.window.set(c.subarray(b-d,b-d+e),a.wnext),(d-=e)?(a.window.set(c.subarray(b-d,b),0),a.wnext=d,a.whave=a.wsize):(a.wnext+=e,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=e))),0},kb={inflateReset:xg,inflateReset2:yg,inflateResetKeep:wg,inflateInit:function(a){return zg(a,15)},inflateInit2:zg,inflate:function(a,c){var b,d,e,g,f,h,m,l=0,q=new Uint8Array(4),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,
  15]);if(Pb(a)||!a.output||!a.input&&0!==a.avail_in)return eb;16191===(b=a.state).mode&&(b.mode=16192);var n=a.next_out;var y=a.output;var E=a.avail_out;var x=a.next_in;var z=a.input;var w=a.avail_in;var u=b.hold;var r=b.bits;var G=w;var K=E;var O=Ob;a:for(;;)switch(b.mode){case 16180:if(0===b.wrap){b.mode=16192;break}for(;16>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(2&b.wrap&&35615===u){0===b.wbits&&(b.wbits=15);b.check=0;q[0]=255&u;q[1]=u>>>8&255;b.check=Ha(b.check,q,2,0);r=u=0;b.mode=16181;
  break}if(b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&u)<<8)+(u>>8))%31){a.msg="incorrect header check";b.mode=16209;break}if((15&u)!==ug){a.msg="unknown compression method";b.mode=16209;break}if(r-=4,h=8+(15&(u>>>=4)),0===b.wbits&&(b.wbits=h),15<h||h>b.wbits){a.msg="invalid window size";b.mode=16209;break}b.dmax=1<<b.wbits;b.flags=0;a.adler=b.check=1;b.mode=512&u?16189:16191;r=u=0;break;case 16181:for(;16>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(b.flags=u,(255&b.flags)!==ug){a.msg="unknown compression method";
  b.mode=16209;break}if(57344&b.flags){a.msg="unknown header flags set";b.mode=16209;break}b.head&&(b.head.text=u>>8&1);512&b.flags&&4&b.wrap&&(q[0]=255&u,q[1]=u>>>8&255,b.check=Ha(b.check,q,2,0));r=u=0;b.mode=16182;case 16182:for(;32>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.head&&(b.head.time=u);512&b.flags&&4&b.wrap&&(q[0]=255&u,q[1]=u>>>8&255,q[2]=u>>>16&255,q[3]=u>>>24&255,b.check=Ha(b.check,q,4,0));r=u=0;b.mode=16183;case 16183:for(;16>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.head&&(b.head.xflags=
  255&u,b.head.os=u>>8);512&b.flags&&4&b.wrap&&(q[0]=255&u,q[1]=u>>>8&255,b.check=Ha(b.check,q,2,0));r=u=0;b.mode=16184;case 16184:if(1024&b.flags){for(;16>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.length=u;b.head&&(b.head.extra_len=u);512&b.flags&&4&b.wrap&&(q[0]=255&u,q[1]=u>>>8&255,b.check=Ha(b.check,q,2,0));r=u=0}else b.head&&(b.head.extra=null);b.mode=16185;case 16185:if(1024&b.flags&&((d=b.length)>w&&(d=w),d&&(b.head&&(h=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),
  b.head.extra.set(z.subarray(x,x+d),h)),512&b.flags&&4&b.wrap&&(b.check=Ha(b.check,z,d,x)),w-=d,x+=d,b.length-=d),b.length))break a;b.length=0;b.mode=16186;case 16186:if(2048&b.flags){if(0===w)break a;d=0;do h=z[x+d++],b.head&&h&&65536>b.length&&(b.head.name+=String.fromCharCode(h));while(h&&d<w);if(512&b.flags&&4&b.wrap&&(b.check=Ha(b.check,z,d,x)),w-=d,x+=d,h)break a}else b.head&&(b.head.name=null);b.length=0;b.mode=16187;case 16187:if(4096&b.flags){if(0===w)break a;d=0;do h=z[x+d++],b.head&&h&&
  65536>b.length&&(b.head.comment+=String.fromCharCode(h));while(h&&d<w);if(512&b.flags&&4&b.wrap&&(b.check=Ha(b.check,z,d,x)),w-=d,x+=d,h)break a}else b.head&&(b.head.comment=null);b.mode=16188;case 16188:if(512&b.flags){for(;16>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(4&b.wrap&&u!==(65535&b.check)){a.msg="header crc mismatch";b.mode=16209;break}r=u=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=0;b.mode=16191;break;case 16189:for(;32>r;){if(0===w)break a;w--;u+=z[x++]<<r;
  r+=8}a.adler=b.check=vg(u);r=u=0;b.mode=16190;case 16190:if(0===b.havedict)return a.next_out=n,a.avail_out=E,a.next_in=x,a.avail_in=w,b.hold=u,b.bits=r,Th;a.adler=b.check=1;b.mode=16191;case 16191:if(c===Rh||c===td)break a;case 16192:if(b.last){u>>>=7&r;r-=7&r;b.mode=16206;break}for(;3>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}switch(b.last=1&u,--r,3&(u>>>=1)){case 0:b.mode=16193;break;case 1:var C=b;if(Ag){Ce=new Int32Array(512);De=new Int32Array(32);for(g=0;144>g;)C.lens[g++]=8;for(;256>g;)C.lens[g++]=
  9;for(;280>g;)C.lens[g++]=7;for(;288>g;)C.lens[g++]=8;Kc(1,C.lens,0,288,Ce,0,C.work,{bits:9});for(g=0;32>g;)C.lens[g++]=5;Kc(2,C.lens,0,32,De,0,C.work,{bits:5});Ag=!1}C.lencode=Ce;C.lenbits=9;C.distcode=De;C.distbits=5;if(b.mode=16199,c===td){u>>>=2;r-=2;break a}break;case 2:b.mode=16196;break;case 3:a.msg="invalid block type",b.mode=16209}u>>>=2;r-=2;break;case 16193:u>>>=7&r;for(r-=7&r;32>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if((65535&u)!=(u>>>16^65535)){a.msg="invalid stored block lengths";
  b.mode=16209;break}if(b.length=65535&u,u=0,r=0,b.mode=16194,c===td)break a;case 16194:b.mode=16195;case 16195:if(d=b.length){if(d>w&&(d=w),d>E&&(d=E),0===d)break a;y.set(z.subarray(x,x+d),n);w-=d;x+=d;E-=d;n+=d;b.length-=d;break}b.mode=16191;break;case 16196:for(;14>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(b.nlen=257+(31&u),u>>>=5,r-=5,b.ndist=1+(31&u),u>>>=5,r-=5,b.ncode=4+(15&u),u>>>=4,r-=4,286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=16209;break}b.have=0;b.mode=
  16197;case 16197:for(;b.have<b.ncode;){for(;3>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.lens[p[b.have++]]=7&u;u>>>=3;r-=3}for(;19>b.have;)b.lens[p[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,m={bits:b.lenbits},O=Kc(0,b.lens,0,19,b.lencode,0,b.work,m),b.lenbits=m.bits,O){a.msg="invalid code lengths set";b.mode=16209;break}b.have=0;b.mode=16198;case 16198:for(;b.have<b.nlen+b.ndist;){for(;l=b.lencode[u&(1<<b.lenbits)-1],f=65535&l,!((C=l>>>24)<=r);){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(16>
  f)u>>>=C,r-=C,b.lens[b.have++]=f;else{if(16===f){for(g=C+2;r<g;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(u>>>=C,r-=C,0===b.have){a.msg="invalid bit length repeat";b.mode=16209;break}h=b.lens[b.have-1];d=3+(3&u);u>>>=2;r-=2}else if(17===f){for(g=C+3;r<g;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}r-=C;h=0;d=3+(7&(u>>>=C));u>>>=3;r-=3}else{for(g=C+7;r<g;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}r-=C;h=0;d=11+(127&(u>>>=C));u>>>=7;r-=7}if(b.have+d>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=
  16209;break}for(;d--;)b.lens[b.have++]=h}}if(16209===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=16209;break}if(b.lenbits=9,m={bits:b.lenbits},O=Kc(1,b.lens,0,b.nlen,b.lencode,0,b.work,m),b.lenbits=m.bits,O){a.msg="invalid literal/lengths set";b.mode=16209;break}if(b.distbits=6,b.distcode=b.distdyn,m={bits:b.distbits},O=Kc(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,m),b.distbits=m.bits,O){a.msg="invalid distances set";b.mode=16209;break}if(b.mode=16199,c===
  td)break a;case 16199:b.mode=16200;case 16200:if(6<=w&&258<=E){a.next_out=n;a.avail_out=E;a.next_in=x;a.avail_in=w;b.hold=u;b.bits=r;var F;w=x=void 0;var N=a,P=N.state;var Q=N.next_in;y=N.input;var ia=Q+(N.avail_in-5);var T=N.next_out;z=N.output;var da=T-(K-N.avail_out);var U=T+(N.avail_out-257);var pa=P.dmax;var oa=P.wsize;var ra=P.whave;var ja=P.wnext;var X=P.window;f=P.hold;g=P.bits;C=P.lencode;r=P.distcode;u=(1<<P.lenbits)-1;E=(1<<P.distbits)-1;b:do{15>g&&(f+=y[Q++]<<g,g+=8,f+=y[Q++]<<g,g+=8);
  var ba=C[f&u];c:for(;;){if(f>>>=w=ba>>>24,g-=w,0===(w=ba>>>16&255))z[T++]=65535&ba;else{if(!(16&w)){if(0==(64&w)){ba=C[(65535&ba)+(f&(1<<w)-1)];continue c}if(32&w){P.mode=16191;break b}N.msg="invalid literal/length code";P.mode=16209;break b}n=65535&ba;(w&=15)&&(g<w&&(f+=y[Q++]<<g,g+=8),n+=f&(1<<w)-1,f>>>=w,g-=w);15>g&&(f+=y[Q++]<<g,g+=8,f+=y[Q++]<<g,g+=8);ba=r[f&E];d:for(;;){if(f>>>=w=ba>>>24,g-=w,!(16&(w=ba>>>16&255))){if(0==(64&w)){ba=r[(65535&ba)+(f&(1<<w)-1)];continue d}N.msg="invalid distance code";
  P.mode=16209;break b}if(x=65535&ba,g<(w&=15)&&(f+=y[Q++]<<g,(g+=8)<w&&(f+=y[Q++]<<g,g+=8)),(x+=f&(1<<w)-1)>pa){N.msg="invalid distance too far back";P.mode=16209;break b}if(f>>>=w,g-=w,x>(w=T-da)){if((w=x-w)>ra&&P.sane){N.msg="invalid distance too far back";P.mode=16209;break b}if(F=0,ba=X,0===ja){if(F+=oa-w,w<n){n-=w;do z[T++]=X[F++];while(--w);F=T-x;ba=z}}else if(ja<w){if(F+=oa+ja-w,(w-=ja)<n){n-=w;do z[T++]=X[F++];while(--w);if(F=0,ja<n){n-=w=ja;do z[T++]=X[F++];while(--w);F=T-x;ba=z}}}else if(F+=
  ja-w,w<n){n-=w;do z[T++]=X[F++];while(--w);F=T-x;ba=z}for(;2<n;)z[T++]=ba[F++],z[T++]=ba[F++],z[T++]=ba[F++],n-=3;n&&(z[T++]=ba[F++],1<n&&(z[T++]=ba[F++]))}else{F=T-x;do z[T++]=z[F++],z[T++]=z[F++],z[T++]=z[F++],n-=3;while(2<n);n&&(z[T++]=z[F++],1<n&&(z[T++]=z[F++]))}break}}break}}while(Q<ia&&T<U);Q-=n=g>>3;f&=(1<<(g-=n<<3))-1;N.next_in=Q;N.next_out=T;N.avail_in=Q<ia?ia-Q+5:5-(Q-ia);N.avail_out=T<U?U-T+257:257-(T-U);P.hold=f;P.bits=g;n=a.next_out;y=a.output;E=a.avail_out;x=a.next_in;z=a.input;w=a.avail_in;
  u=b.hold;r=b.bits;16191===b.mode&&(b.back=-1);break}for(b.back=0;g=(l=b.lencode[u&(1<<b.lenbits)-1])>>>16&255,f=65535&l,!((C=l>>>24)<=r);){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(g&&0==(240&g)){X=C;ja=g;for(ra=f;g=(l=b.lencode[ra+((u&(1<<X+ja)-1)>>X)])>>>16&255,f=65535&l,!(X+(C=l>>>24)<=r);){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}u>>>=X;r-=X;b.back+=X}if(u>>>=C,r-=C,b.back+=C,b.length=f,0===g){b.mode=16205;break}if(32&g){b.back=-1;b.mode=16191;break}if(64&g){a.msg="invalid literal/length code";
  b.mode=16209;break}b.extra=15&g;b.mode=16201;case 16201:if(b.extra){for(g=b.extra;r<g;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.length+=u&(1<<b.extra)-1;u>>>=b.extra;r-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=16202;case 16202:for(;g=(l=b.distcode[u&(1<<b.distbits)-1])>>>16&255,f=65535&l,!((C=l>>>24)<=r);){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(0==(240&g)){X=C;ja=g;for(ra=f;g=(l=b.distcode[ra+((u&(1<<X+ja)-1)>>X)])>>>16&255,f=65535&l,!(X+(C=l>>>24)<=r);){if(0===w)break a;w--;u+=z[x++]<<r;
  r+=8}u>>>=X;r-=X;b.back+=X}if(u>>>=C,r-=C,b.back+=C,64&g){a.msg="invalid distance code";b.mode=16209;break}b.offset=f;b.extra=15&g;b.mode=16203;case 16203:if(b.extra){for(g=b.extra;r<g;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}b.offset+=u&(1<<b.extra)-1;u>>>=b.extra;r-=b.extra;b.back+=b.extra}if(b.offset>b.dmax){a.msg="invalid distance too far back";b.mode=16209;break}b.mode=16204;case 16204:if(0===E)break a;if(d=K-E,b.offset>d){if((d=b.offset-d)>b.whave&&b.sane){a.msg="invalid distance too far back";
  b.mode=16209;break}d>b.wnext?(d-=b.wnext,e=b.wsize-d):e=b.wnext-d;d>b.length&&(d=b.length);C=b.window}else C=y,e=n-b.offset,d=b.length;d>E&&(d=E);E-=d;b.length-=d;do y[n++]=C[e++];while(--d);0===b.length&&(b.mode=16200);break;case 16205:if(0===E)break a;y[n++]=b.length;E--;b.mode=16200;break;case 16206:if(b.wrap){for(;32>r;){if(0===w)break a;w--;u|=z[x++]<<r;r+=8}if(K-=E,a.total_out+=K,b.total+=K,4&b.wrap&&K&&(a.adler=b.check=b.flags?Ha(b.check,y,K,n-K):Fc(b.check,y,K,n-K)),K=E,4&b.wrap&&(b.flags?
  u:vg(u))!==b.check){a.msg="incorrect data check";b.mode=16209;break}r=u=0}b.mode=16207;case 16207:if(b.wrap&&b.flags){for(;32>r;){if(0===w)break a;w--;u+=z[x++]<<r;r+=8}if(4&b.wrap&&u!==(4294967295&b.total)){a.msg="incorrect length check";b.mode=16209;break}r=u=0}b.mode=16208;case 16208:O=Sh;break a;case 16209:O=sg;break a;case 16210:return tg;default:return eb}return a.next_out=n,a.avail_out=E,a.next_in=x,a.avail_in=w,b.hold=u,b.bits=r,(b.wsize||K!==a.avail_out&&16209>b.mode&&(16206>b.mode||c!==
  rg))&&Bg(a,a.output,a.next_out,K-a.avail_out),G-=a.avail_in,K-=a.avail_out,a.total_in+=G,a.total_out+=K,b.total+=K,4&b.wrap&&K&&(a.adler=b.check=b.flags?Ha(b.check,y,K,a.next_out-K):Fc(b.check,y,K,a.next_out-K)),a.data_type=b.bits+(b.last?64:0)+(16191===b.mode?128:0)+(16199===b.mode||16194===b.mode?256:0),(0===G&&0===K||c===rg)&&O===Ob&&(O=Uh),O},inflateEnd:function(a){if(Pb(a))return eb;var c=a.state;return c.window&&(c.window=null),a.state=null,Ob},inflateGetHeader:function(a,c){if(Pb(a))return eb;
  a=a.state;return 0==(2&a.wrap)?eb:(a.head=c,c.done=!1,Ob)},inflateSetDictionary:function(a,c){var b,d=c.length;return Pb(a)||0!==(b=a.state).wrap&&16190!==b.mode?eb:16190===b.mode&&Fc(1,c,d,0)!==b.check?sg:Bg(a,c,d,d)?(b.mode=16210,tg):(b.havedict=1,Ob)},inflateInfo:"pako inflate (from Nodeca project)"},Rg=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},Xe=Object.prototype.toString,Vh=Y.Z_NO_FLUSH,Wh=Y.Z_FINISH,
  jc=Y.Z_OK,Ee=Y.Z_STREAM_END,Fe=Y.Z_NEED_DICT,Xh=Y.Z_STREAM_ERROR,Cg=Y.Z_DATA_ERROR,Yh=Y.Z_MEM_ERROR;ic.prototype.push=function(a,c){var b,d,e=this.strm,g=this.options.chunkSize,f=this.options.dictionary;if(this.ended)return!1;c=c===~~c?c:!0===c?Wh:Vh;"[object ArrayBuffer]"===Xe.call(a)?e.input=new Uint8Array(a):e.input=a;e.next_in=0;for(e.avail_in=e.input.length;;){0===e.avail_out&&(e.output=new Uint8Array(g),e.next_out=0,e.avail_out=g);for((b=kb.inflate(e,c))===Fe&&f&&((b=kb.inflateSetDictionary(e,
  f))===jc?b=kb.inflate(e,c):b===Cg&&(b=Fe));0<e.avail_in&&b===Ee&&0<e.state.wrap&&0!==a[e.next_in];)kb.inflateReset(e),b=kb.inflate(e,c);switch(b){case Xh:case Cg:case Fe:case Yh:return this.onEnd(b),this.ended=!0,!1}if(d=e.avail_out,e.next_out&&(0===e.avail_out||b===Ee))if("string"===this.options.to){var h=e.output;var m=e.next_out;(m=m||h.length)>h.length&&(m=h.length);for(var l=m-1;0<=l&&128==(192&h[l]);)l--;h=0>l||0===l?m:l+Jc[h[l]]>m?l:m;m=e.next_out-h;var q,p,n=e.output,y=(l=h)||n.length;if("function"==
  typeof TextDecoder&&TextDecoder.prototype.decode)l=(new TextDecoder).decode(n.subarray(0,l));else{l=Array(2*y);for(p=q=0;p<y;){var E=n[p++];if(128>E)l[q++]=E;else{var x=Jc[E];if(4<x)l[q++]=65533,p+=x-1;else{for(E&=2===x?31:3===x?15:7;1<x&&p<y;)E=E<<6|63&n[p++],x--;1<x?l[q++]=65533:65536>E?l[q++]=E:(E-=65536,l[q++]=55296|E>>10&1023,l[q++]=56320|1023&E)}}}n=q;if(65534>n&&l.subarray&&qg)l=String.fromCharCode.apply(null,l.length===n?l:l.subarray(0,n));else{y="";for(q=0;q<n;q++)y+=String.fromCharCode(l[q]);
  l=y}}e.next_out=m;e.avail_out=g-m;m&&e.output.set(e.output.subarray(h,h+m),0);this.onData(l)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(b!==jc||0!==d){if(b===Ee)return b=kb.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,!0;if(0===e.avail_in)break}}return!0};ic.prototype.onData=function(a){this.chunks.push(a)};ic.prototype.onEnd=function(a){a===jc&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=pg(this.chunks));this.chunks=
  [];this.err=a;this.msg=this.strm.msg};var Dg,nf={Deflate:gc,deflate:Fd,deflateRaw:function(a,c){return(c=c||{}).raw=!0,Fd(a,c)},gzip:function(a,c){return(c=c||{}).gzip=!0,Fd(a,c)},Inflate:ic,inflate:Gd,inflateRaw:function(a,c){return(c=c||{}).raw=!0,Gd(a,c)},ungzip:Gd,constants:Y};!function(a){a.BRAND="DeviceBrand";a.MANUFACTURER="DeviceManufacturer";a.MODEL="DeviceModel";a.TYPE="DeviceType";a.VERSION="DeviceVersion";a.OS_NAME="OperatingSystemName";a.OS_VERSION="OperatingSystemVersion";a.CATEGORY=
  "DeviceCategory";a.FRAMEWORK_NAME="FrameworkName";a.FRAMEWORK_VERSION="FrameworkVersion"}(Dg||(Dg={}));var H,xb,nh={CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},Kf={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",
  WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"};!function(a){var c,b,d,e,g;a.TRACEPARENT_HEADER_KEY="traceparent";(function(f){f.NONE="NONE";f.RCFG="RCFG"})(b=a.SAMPLING_MODES||(a.SAMPLING_MODES={}));(d=a.SAMPLING_STATUS||(a.SAMPLING_STATUS={})).DERIVED="DERIVED";d.DEFAULT="DEFAULT";(function(f){f.SAMPLED="sl";f.NON_SAMPLED="nsl"})(d=a.SAMPLING_ACTION||(a.SAMPLING_ACTION={}));a.DEFAULT_SAMPLING_ACTION=((c={})[d.SAMPLED]=b.RCFG,c[d.NON_SAMPLED]=b.NONE,c);(c=a.CONFIG_SOURCE||(a.CONFIG_SOURCE={})).DEFAULT=
  "def";c.CACHED="cac";c.REMOTE="rem";(e=a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}))[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE";(g=a.PERFORMANCE_CONTEXT||(a.PERFORMANCE_CONTEXT={}))[g.DISABLED=0]="DISABLED";g[g.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";g[g.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING";(e=a.RC_FETCH_MODE||(a.RC_FETCH_MODE={})).DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff";a.REMOTE_CONFIG_STORAGE_KEY=
  "ConvivaRemoteConfig";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json";a.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";a.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";a.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};a.CLICK_KEY_MAX_LENGTH=1024;
  a.CLICK_DEBOUNCING_DELAY=300;a.CLICK_MAX_DEPTH=16;a.MAX_NATIVE_SCAN=16;a.MAX_NATIVE_SCAN_LEGACY=8;a.PAGE_URL_QUERY_PARAMS="pgq"}(H||(H={}));"function"==typeof AbortController&&(xb=new AbortController);var qa,$a=null==xb?void 0:xb.signal;!function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh";a.request_query="rqq"}(qa||(qa={}));var bf=function(a){try{var c=void 0;return null!=a&&(c=a["content-type"]||a["Content-Type"]||a["Content-type"]),c}catch(b){}},
  ud,wa={};!function(a){a.APPLICATION_BACKGROUND="abg";a.APPLICATION_ERROR="ae"}(ud||(ud={}));var lb,ta,na={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:H.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:H.DEFAULT_END_POINT,
  applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[ud.APPLICATION_BACKGROUND,ud.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
  uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}}},Zh="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");
  !function(a){a.NONE="none";a.GZIP="gzip"}(lb||(lb={}));var Eb,oh=function(a,c,b){return ta=Lg({base64:null==a?void 0:a.base64,corePlugins:c,callback:b,exceptionAutotracking:a.exceptionAutotracking,enablePeriodicHeartbeat:a.enablePeriodicHeartbeat,periodicHeartbeatInterval:a.periodicHeartbeatInterval,enc:a.enc,mend:a.mend,maxLocalStorageQueueSize:a.maxLocalStorageQueueSize,maxGetBytes:a.maxGetBytes,bufferSize:a.bufferSize,customEventTrackingConfiguration:a.customEventTrackingConfiguration,networkRequestTrackingConfiguration:a.networkRequestTrackingConfiguration,
  metaTagsTrackingConfiguration:a.metaTagsTrackingConfiguration,traceparentconfig:a.traceparentconfig,performanceContextConfig:a.performanceContextConfig,lifecycleAutotracking:a.lifecycleAutotracking,configurationVersion:a.configurationVersion,catRcLastUpdatedTs:a.catRcLastUpdatedTs,cacheRefreshInterval:a.cacheRefreshInterval,endpoint:a.endpoint,controlIngestConfig:a.controlIngestConfig,applicationContext:a.applicationContext,emitterConfiguration:a.emitterConfiguration,di:a.di,clickcc:a.clickcc,collectionRateLimit:a.collectionRateLimit,
  pageUrlTrackingConfig:a.pageUrlTrackingConfig})},Eg=function(a){var c={};return a.forEach(function(b,d){c[d]=b}),c},Vg=["/ctp","/wsg","remote_config","rc.conviva.com","pings.conviva.com"];!function(a){a[a.NETWORK_REQUEST=0]="NETWORK_REQUEST";a[a.CUSTOM_EVENT=1]="CUSTOM_EVENT"}(Eb||(Eb={}));var Ge,He,Ie,ff=0,ef=0,va=H.CONFIG_SOURCE.DEFAULT,ya=0,Ba,oc,pc=!1,Fb=null,Nd=null,Wc=0,jf='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,
  "")||"",Wg='\n[class*="card"]\n'.replace(/\s+/g,"")||"",Fg=window.localStorage?localStorage.getItem(H.REMOTE_CONFIG_STORAGE_KEY):null,nc=Fg?null===(He=null===(Ge=JSON.parse(Fg).clickcc)||void 0===Ge?void 0:Ge.cssSelectorList)||void 0===He?void 0:He.replace(/\s+/g,""):null===(Ie=na.clickcc)||void 0===Ie?void 0:Ie.cssSelectorList;!function(a){a.BOTH="both";a.CLOSEST="closest";a.RAW="raw"}(oc||(oc={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=
  function(a){try{for(var c=this;c;){if(c.matches(a))return c;c=c.parentElement}}catch(b){ha.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",b)}return null});var db,ea,$h=function(a){this.cacheRefreshInterval=a.cacheRefreshInterval;this.base64=a.base64;this.corePlugins=a.corePlugins;this.callback=a.callback;this.lifecycleAutotracking=a.lifecycleAutotracking;this.exceptionAutotracking=a.exceptionAutotracking;this.enablePeriodicHeartbeat=a.enablePeriodicHeartbeat;
  this.periodicHeartbeatInterval=a.periodicHeartbeatInterval;this.enc=a.enc;this.maxLocalStorageQueueSize=a.maxLocalStorageQueueSize;this.maxPostBytes=a.maxPostBytes;this.maxGetBytes=a.maxGetBytes;this.bufferSize=a.bufferSize;this.customEventTrackingConfiguration=a.customEventTrackingConfiguration;this.networkRequestTrackingConfiguration=a.networkRequestTrackingConfiguration;this.traceparentconfig=a.traceparentconfig;this.metaTagsTrackingConfiguration=a.metaTagsTrackingConfiguration;this.performanceContextConfig=
  a.performanceContextConfig;this.mend=a.mend;this.configurationVersion=a.configurationVersion;this.catRcLastUpdatedTs=a.catRcLastUpdatedTs;this.endpoint=a.endpoint;this.emitterConfiguration=a.emitterConfiguration;this.controlIngestConfig=a.controlIngestConfig;this.applicationContext=a.applicationContext;this.di=a.di;this.clickcc=a.clickcc;this.collectionRateLimit=a.collectionRateLimit;this.pageUrlTrackingConfig=a.pageUrlTrackingConfig},Gf=function(){function a(){this.cacheRefreshInterval=na.cacheRefreshInterval;
  this.base64=na.base64;this.lifecycleAutotracking=na.lifecycleAutotracking;this.exceptionAutotracking=na.exceptionAutotracking;this.enablePeriodicHeartbeat=na.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=na.periodicHeartbeatInterval;this.customEventTrackingConfiguration=fa({},na.customEventTrackingConfiguration);this.networkRequestTrackingConfiguration=fa({},na.networkRequestTrackingConfiguration);this.traceparentconfig=fa({},na.traceparentconfig);this.performanceContextConfig=na.performanceContextConfig;
  this.configurationVersion=na.configurationVersion;this.catRcLastUpdatedTs=na.catRcLastUpdatedTs;this.endpoint=na.endpoint;this.emitterConfiguration=na.emitterConfiguration;this.applicationContext=na.applicationContext;this.enc=na.enc;this.mend=na.mend;this.di=fa({},na.di);this.clickcc=fa({},na.clickcc);this.collectionRateLimit=fa({},na.collectionRateLimit)}return a.prototype.setCacheRefreshInterval=function(c){return this.cacheRefreshInterval="number"==typeof c&&1<=c&&kc(c)?c:na.cacheRefreshInterval,
  this},a.prototype.setBase64=function(c){return"boolean"==typeof c&&(this.base64=c),this},a.prototype.setCorePlugins=function(c){return c&&(this.corePlugins=c),this},a.prototype.setCallback=function(c){return c&&(this.callback=c),this},a.prototype.setLifecycleAutotracking=function(c){return"boolean"==typeof c&&(this.lifecycleAutotracking=c),this},a.prototype.setExceptionAutotracking=function(c){return"boolean"==typeof c&&(this.exceptionAutotracking=c),this},a.prototype.setEnablePeriodicHeartbeat=function(c){return"boolean"==
  typeof c&&(this.enablePeriodicHeartbeat=c),this},a.prototype.setPeriodicHeartbeatInterval=function(c){return"number"==typeof c&&1<=c&&(this.periodicHeartbeatInterval=~~c),this},a.prototype.setEnc=function(c,b){return"string"==typeof c&&Object.values(lb).includes(c)?this.enc=c:b&&"string"==typeof b&&Object.values(lb).includes(b)?this.enc=b:this.enc=na.enc,this},a.prototype.setMaxLocalStorageQueueSize=function(c){return"number"==typeof c&&(this.maxLocalStorageQueueSize=c),this},a.prototype.setMaxGetBytes=
  function(c){return"number"==typeof c&&(this.maxGetBytes=c),this},a.prototype.setBufferSize=function(c){return"number"==typeof c&&(this.bufferSize=c),this},a.prototype.setCustomEventTrackingConfiguration=function(c){return c&&(this.customEventTrackingConfiguration=c),this},a.prototype.setEmitterConfiguration=function(c){return void 0!==c&&(void 0!==c.batching.enabled&&(this.emitterConfiguration.batching.enabled=c.batching.enabled),void 0!==c.batching.batchingIntervalInSec&&0<c.batching.batchingIntervalInSec&&
  (this.emitterConfiguration.batching.batchingIntervalInSec=c.batching.batchingIntervalInSec),"undefined"!=c.batching.byteLimitPostInKB&&0<c.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=c.batching.byteLimitPostInKB),void 0!==c.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=c.batching.urgentEvents)),this},a.prototype.setNetworkRequestTrackingConfiguration=function(c,b,d){return c&&(this.networkRequestTrackingConfiguration=c,b&&(this.networkRequestTrackingConfiguration.blocklist||
  (this.networkRequestTrackingConfiguration.blocklist=[]),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Zh))),this},a.prototype.setTraceparentconfig=function(c){return c&&(this.traceparentconfig=c),this},a.prototype.setMetaTagsTrackingConfiguration=function(c){return c&&(this.metaTagsTrackingConfiguration=c),this},a.prototype.setPerformanceContextConfig=function(c){return"number"==
  typeof c&&(this.performanceContextConfig=c),this},a.prototype.setMend=function(c,b){return"boolean"==typeof c?this.mend=c:"boolean"==typeof b&&(this.mend=b),this},a.prototype.setConfigurationVersion=function(c){return"number"==typeof c&&(this.configurationVersion=c),this},a.prototype.setCatRcLastUpdatedTs=function(c){return"number"==typeof c&&(this.catRcLastUpdatedTs=c),this},a.prototype.setEndPoint=function(c,b,d){return"string"==typeof d&&0<d.trim().length?this.endpoint=d:"string"==typeof c&&0<
  c.trim().length?this.endpoint=c:b&&"string"==typeof b&&0<b.trim().length?this.endpoint=b:this.endpoint=na.endpoint,this},a.prototype.setcontrolIngestConfig=function(c){return void 0!==c?this.controlIngestConfig=c:Sc(),this},a.prototype.setApplicationContext=function(c){return void 0!==c&&(this.applicationContext=c),this},a.prototype.setDi=function(c){return void 0!==c&&(this.di=fa(fa({},this.di),c)),this},a.prototype.setClickcc=function(c){var b,d;return void 0!==c&&("boolean"==typeof c.en&&(this.clickcc.en=
  c.en),c.cssSelectorList&&0<c.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=c.cssSelectorList),"string"==typeof c.uiMode&&Object.values(oc).includes(c.uiMode)&&(this.clickcc.uiMode=c.uiMode),void 0!==c.block&&(this.clickcc.block=c.block),void 0!==c.collect&&(this.clickcc.collect=c.collect),void 0!==c.collectattr&&(this.clickcc.collectattr=c.collectattr)),"boolean"==typeof(null===(b=null==this?void 0:this.clickcc)||void 0===b?void 0:b.en)&&!0===(null===(d=null==this?void 0:this.clickcc)||
  void 0===d?void 0:d.en)?Yg():lf(),this},a.prototype.setCollectionRateLimit=function(c){return null!=c&&(this.collectionRateLimit=fa(fa({},this.collectionRateLimit),c)),this},a.prototype.setPageUrlTrackingConfig=function(c){return this.pageUrlTrackingConfig=void 0!==c?c:null,this},a.prototype.build=function(){return new $h(this)},a}(),ac=!1,Bc=null,bc=0,kd=!1,Hf=function(a,c,b,d,e){var g=b.trackerConfigUrl?b.trackerConfigUrl:d;if("number"==typeof Bc){window.clearInterval(Bc);var f={message:"Cancelling remote config timer",
  className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,f)},0)}var h=function(){var p={message:"Starting remote config timer with delay of ".concat(60*a," seconds"),className:"updateRemoteConfig",configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,p)},0);Bc=window.setInterval(cc,6E4*a,g)};try{var m=c?((new Date).getTime()-c)/6E4:a;b=a-m;d=3*a/100;
  if("string"==typeof e&&e===H.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)h();else if("string"==typeof e&&e===H.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<c&&b>d){window.setTimeout(function(){cc(g);h()},6E4*b);var l={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,l)},0)}else cc(g),h()}catch(p){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",
  p);cc(g);h();var q={className:"cacheRefreshIntervalTimer",error:p,configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,q)},0)}},cc=function(a,c){try{if("boolean"==typeof ac&&!1===ac){c?bc++:bc=0;db.timeout=3E4;db.open("GET",a,!0);ac=!0;var b={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,b)},0);db.send()}}catch(e){ac=!1;
  ha.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var d={className:"configtimerCallback",error:e,configAppliedSrc:va,configAppliedTime:ya};setTimeout(function(){Aa(ta,null==ea?void 0:ea.getSamplingMode,d)},0)}},lh=function(a,c,b){var d,e,g,f,h,m,l,q,p,n,y,E,x,z,w,u,r,G,K,O,C,F,N,P,Q,ia,T,da,U,pa,oa,ra,ja,X=ta;try{var ba=(new Gf).setBase64(a.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(a.cri||a.cacheRefreshInterval).setLifecycleAutotracking(null===
  (e=null===(d=a.configurationBundle[0])||void 0===d?void 0:d.trackerConfiguration)||void 0===e?void 0:e.lifecycleAutotracking).setExceptionAutotracking(null===(f=null===(g=a.configurationBundle[0])||void 0===g?void 0:g.trackerConfiguration)||void 0===f?void 0:f.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(m=null===(h=a.configurationBundle[0])||void 0===h?void 0:h.trackerConfiguration)||void 0===m?void 0:m.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(q=null===(l=a.configurationBundle[0])||
  void 0===l?void 0:l.trackerConfiguration)||void 0===q?void 0:q.periodicHeartbeatInterval).setEnc(null===(n=null===(p=a.configurationBundle[0])||void 0===p?void 0:p.networkConfiguration)||void 0===n?void 0:n.enc,null===(E=null===(y=null==b?void 0:b.configs)||void 0===y?void 0:y.network)||void 0===E?void 0:E.encoding).setMaxLocalStorageQueueSize(null===(z=null===(x=a.configurationBundle[0])||void 0===x?void 0:x.networkConfiguration)||void 0===z?void 0:z.maxLocalStorageQueueSize).setMaxGetBytes(null===
  (u=null===(w=a.configurationBundle[0])||void 0===w?void 0:w.networkConfiguration)||void 0===u?void 0:u.maxGetBytes).setBufferSize(null===(G=null===(r=a.configurationBundle[0])||void 0===r?void 0:r.networkConfiguration)||void 0===G?void 0:G.bufferSize).setCustomEventTrackingConfiguration(null===(K=a.configurationBundle[0])||void 0===K?void 0:K.customEventTrackingConfiguration).setEndPoint(null===(C=null===(O=a.configurationBundle[0])||void 0===O?void 0:O.networkConfiguration)||void 0===C?void 0:C.endpoint,
  b.gatewayUrl,b.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(F=a.configurationBundle[0])||void 0===F?void 0:F.networkRequestTrackingConfiguration,!0,null===(P=null===(N=a.configurationBundle[0])||void 0===N?void 0:N.networkConfiguration)||void 0===P?void 0:P.endpoint).setMetaTagsTrackingConfiguration(null===(Q=a.configurationBundle[0])||void 0===Q?void 0:Q.metaTagsTrackingConfiguration).setTraceparentconfig(null===(ia=a.configurationBundle[0])||void 0===ia?void 0:ia.traceparentconfig).setMend(null===
  (da=null===(T=a.configurationBundle[0])||void 0===T?void 0:T.networkConfiguration)||void 0===da?void 0:da.mend,null===(pa=null===(U=null==b?void 0:b.configs)||void 0===U?void 0:U.network)||void 0===pa?void 0:pa.mergeEndpoint).setPerformanceContextConfig(null===(ra=null===(oa=a.configurationBundle[0])||void 0===oa?void 0:oa.trackerConfiguration)||void 0===ra?void 0:ra.perfCx).setConfigurationVersion(a.configurationVersion).setCatRcLastUpdatedTs(c).setEmitterConfiguration(a.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(a["ctrl-ingst"]).setApplicationContext(a.configurationBundle[0].trackerConfiguration.applicationContext).setDi(a.configurationBundle[0].di).setClickcc(a.configurationBundle[0].clickcc).setCollectionRateLimit(a.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(a.configurationBundle[0].pageUrlTrackingConfig).build();
  va=H.CONFIG_SOURCE.REMOTE;ya=(new Date).getTime();null==X||X.setConfig(ba);a={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:va,configAppliedTime:ya};Aa(ta,null==ea?void 0:ea.getSamplingMode,a);null==ea||ea.setCollectorUrl(null===(ja=null==X?void 0:X.getConfig())||void 0===ja?void 0:ja.endpoint,b.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(H.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(H.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(ba)))}catch(Z){Aa(ta,
  null==ea?void 0:ea.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:Z,configAppliedSrc:va,configAppliedTime:ya}),console.warn("Conviva: Error while saving remote-config to localstorage",Z)}}catch(Z){return a={className:"updateRemoteConfig - tracker",error:Z,configAppliedSrc:va,configAppliedTime:ya},Aa(ta,null==ea?void 0:ea.getSamplingMode,a),console.warn("Conviva: Error while updating remote-config",Z),!1}return!0},vd=!1,wd=0,xd=0,Pa={startEvent:"CONVERSATION_MESSAGE",endEvent:"CONVERSATION_MESSAGE",
  countEvent:"CONVERSATION_STREAMING_TOKEN",startCondition:{key:"conversationEntry.sender.role",value:"EndUser"},endCondition:{key:"conversationEntry.sender.role",value:"Chatbot"},parseFromData:{keys:["data.conversationEntry.entryPayload"]},idleMs:3E4,maxEvents:1E4,bufferMaxBytes:1E6,extraEvents:["CONVERSATION_CLOSE_CONVERSATION","CONVERSATION_PARTICIPANT_CHANGED"]},yd=!1,sh=function(){function a(c,b,d){var e;this.originalXhr=XMLHttpRequest;this.originalFetch=null===(e=null===window||void 0===window?
  void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.originalWebSocket=WebSocket;this.core=ta;this.trackerMethods=c;this.trackerConfiguration=b;this.getSamplingMode=d;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.decorateXhrInstance=this.decorateXhrInstance.bind(this)}return a.prototype.cleanupNetworkRequestHandler=function(){a.instance=null},a.getInstance=function(c,b,d){return a.instance||(a.instance=new a(c,b,d)),a.instance},
  a.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket()}catch(c){console.warn("Conviva App Tracker:: Unable to track network request ".concat(c))}},a.prototype.decorateXMLHttpRequest=function(){if(this.originalXhr){var c=this,b=function(){var d=new c.originalXhr;return c.decorateXhrInstance(d),d};b.prototype=this.originalXhr.prototype;window.XMLHttpRequest=b}},a.prototype.decorateXhrInstance=function(c){var b,d,e,g=this,
  f={},h=c.setRequestHeader;c.setRequestHeader=function(p,n){f[p]=n;h.call(this,p,n)};var m=c.open;c.open=function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];b=p[0];d=g.normalizeUrl(p[1]);m.call(c,p[0],p[1],!0)};var l=c.send;c.send=function(p){try{var n=g.addTraceparentHeader(c,d,f);l.call(c,p);e=g.createRequestDetails(b,d,f,p,n)}catch(y){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(y))}};var q=$a;c.addEventListener("load",function(){return g.handleResponse(c,
  e,"load")},{signal:q});c.addEventListener("error",function(){return g.handleResponse(c,e,"error")},{signal:q});c.addEventListener("abort",function(){return g.handleResponse(c,e,"abort")},{signal:q});c.addEventListener("timeout",function(){return g.handleResponse(c,e,"timeout")},{signal:q})},a.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)},a.prototype.interceptFetch=function(c,b){var d,e,g,f,h=this,m=null;if(c instanceof Request){var l=null==c?void 0:c.clone();try{var q=
  !1;null===(d=null==l?void 0:l.headers)||void 0===d||d.forEach(function(r,G){H.TRACEPARENT_HEADER_KEY===G&&(q=!0)});q||null!==(m=this.generateTraceparentHeader(l.url))&&""!==m&&l.headers.set(H.TRACEPARENT_HEADER_KEY,m)}catch(r){console.warn("ConvivaAppTracker: Issue while adding traceparent header",r)}d=this.originalFetch(l)}else{try{if(b&&b.headers){var p=new Headers(b.headers),n=!1;p.forEach(function(r,G){H.TRACEPARENT_HEADER_KEY===G&&(n=!0)});n||null!==(m=this.generateTraceparentHeader(c))&&""!==
  m&&p.set(H.TRACEPARENT_HEADER_KEY,m);b.headers=p}else p=new Headers,null!==(m=this.generateTraceparentHeader(c))&&""!==m&&p.set(H.TRACEPARENT_HEADER_KEY,m),b?b.headers=p:(b={}).headers=p}catch(r){console.warn("ConvivaAppTracker: Issue while adding traceparent header",r)}d=this.originalFetch(c,b);l=(new Request(c,b)).clone()}try{c=void 0;try{c=Eg(l.headers)}catch(r){}p=void 0;try{p=null==b?void 0:b.body}catch(r){}var y={method:l.method,url:decodeURIComponent(l.url),headers:c,body:p,requestTimestamp:null===
  Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};if(this.getSamplingMode()!==H.SAMPLING_MODES.NONE){var E=this.core.getConfig().networkRequestTrackingConfiguration,x=E.blocklist,z=null===(f=null===(g=null===(e=this.trackerConfiguration)||void 0===e?void 0:e.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===f?void 0:f.safelist,w=E.collect,u=E.block;null!==m&&""!==m&&(y[H.TRACEPARENT_HEADER_KEY]=
  m);d.then(function(r){try{var G=Uc(w,u,x,z,r,y);if(E&&E.enabled&&G){G=void 0;try{G=Eg(r.headers)}catch(F){}var K={status:null==r?void 0:r.status,statusText:""!==(null==r?void 0:r.statusText)?null==r?void 0:r.statusText:void 0,headers:G,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},O=r.headers.get("content-type");if(O&&O.includes("text/event-stream")){var C=
  r.clone().body;C?function(F,N,P,Q){var ia,T,da;return void 0===Q&&(Q={}),Gg(this,void 0,void 0,function(){var U,pa,oa,ra,ja,X,ba,Z,Za,M,R,V,aa,Ia,Na;return Hg(this,function(Oa){switch(Oa.label){case 0:U=null!==(ia=Q.idleMs)&&void 0!==ia?ia:3E4,pa=null!==(T=Q.maxEvents)&&void 0!==T?T:1E4,oa=null!==(da=Q.bufferMaxBytes)&&void 0!==da?da:1E6,ra=F.getReader(),ja=new TextDecoder("utf-8"),X="",ba=0,Z=void 0,(Za=function(){void 0!==Z&&(clearTimeout(Z),Z=void 0);Z=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",
  U,"ms \u2192 cancelling",N);ra.cancel()},U)})(),Oa.label=1;case 1:Oa.trys.push([1,5,6,7]),Oa.label=2;case 2:return[4,ra.read()];case 3:if(M=Oa.sent(),R=M.value,M.done)return[3,4];if(Za(),X+=ja.decode(R,{stream:!0}),(new TextEncoder).encode(X).length>oa)return console.warn("Conviva App Tracker:: SSE buffer exceeded",oa,"bytes, cancelling stream",N),ra.cancel(),[3,4];for(V=void 0;-1!==(V=X.search(/\r?\n\r?\n/));)if(aa=X.slice(0,V).replace(/\s+$/,""),X=X.slice(V+2),(Ia=Zg(aa))&&(P(Ia),++ba>=pa)){console.warn("Conviva App Tracker:: event budget reached \u2192 cancelling",
  N);ra.cancel();break}return[3,2];case 4:return[3,7];case 5:if(!((Na=Oa.sent())instanceof DOMException&&"AbortError"===Na.name))throw Na;return[3,7];case 6:return clearTimeout(Z),ra.releaseLock(),[7];case 7:return[2]}})})}(C,l.url,function(F){var N;if("ping"!==F.event){var P=F.data;try{P=JSON.parse(F.data)}catch(pa){}var Q={url:l.url,id:F.id,event:null!==(N=F.event)&&void 0!==N?N:"message",data:P};if(Pa.parseFromData&&Array.isArray(Pa.parseFromData.keys)){N=0;for(var ia=Pa.parseFromData.keys;N<ia.length;N++){for(var T=
  ia[N].split("."),da=Q,U=0;U<T.length-1&&da&&"object"===la(da)&&da[T[U]];U++)da=da[T[U]];da&&"object"===la(da)&&0<T.length&&delete da[T[T.length-1]]}}if(F.event===Pa.startEvent&&mf(P,Pa.startCondition)&&(vd=!0,wd=0,xd=Date.now(),yd=!1,h.trackerMethods.trackCustomEvent({name:"conviva_sse_message",data:JSON.stringify(Q)})),F.event===Pa.countEvent&&vd&&(wd+=1,yd||(h.trackerMethods.trackCustomEvent({name:"conviva_sse_first_token_event",data:JSON.stringify(Q)}),yd=!0)),Array.isArray(Pa.extraEvents)&&F.event&&
  Pa.extraEvents.includes(F.event)&&h.trackerMethods.trackCustomEvent({name:"conviva_sse_extra_event",data:JSON.stringify(Q)}),F.event===Pa.endEvent&&mf(P,Pa.endCondition)){if(Q.tokenCount=vd?wd:0,0<xd)P=Date.now()-xd,0<=P&&864E5>P&&(Q.durationMs=P);h.trackerMethods.trackCustomEvent({name:"conviva_sse_message",data:JSON.stringify(Q)});vd=!1;xd=wd=0;yd=!1}F.event}},{idleMs:Pa.idleMs,maxEvents:Pa.maxEvents,bufferMaxBytes:Pa.bufferMaxBytes}).catch(function(){}):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else r.clone().json().then(function(F){K.body=
  F;h.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:K})}).catch(function(){h.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:K})})}}catch(F){G=Uc(w,u,x,z,r,y),E&&E.enabled&&G&&(r={statusText:F.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},h.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:r}))}}).catch(function(r){var G=
  Uc(w,u,x,z,null,y);E&&E.enabled&&G&&(r={statusText:r.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},h.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:r}))})}}catch(r){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(r))}return d},a.prototype.handleResponse=function(c,
  b,d){var e,g,f,h,m,l;try{if(this.getSamplingMode()!==H.SAMPLING_MODES.NONE){var q=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,p=q.blocklist,n=null===(h=null===(f=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===f?void 0:f.networkRequestTracking)||void 0===h?void 0:h.safelist,y=Uc(q.collect,q.block,p,n,c,b);if(q&&q.enabled&&y){var E={status:c.status,statusText:c.statusText||("load"!==d?d:void 0),responseTimestamp:Date.now(),
  responseTime:performance.now()||Date.now(),headers:(m=c.getAllResponseHeaders(),l={},m.trim().split(/[\r\n]+/).forEach(function(x){x=x.split(":");var z=x[1];l[x[0].trim()]=null==z?void 0:z.trim()}),l),body:c.response};this.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:E})}}}catch(x){ha.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(x))}},a.prototype.decorateWebSocket=function(){var c=this;if(this.originalWebSocket){var b=function(d,
  e){d=new c.originalWebSocket(d,e);var g=d.send;return d.send=function(f){"string"==typeof f&&c.handleWebSocketSend(f,this);g.call(this,f)},d.addEventListener("message",function(f){c.handleWebSocketMessage(f)}),d.addEventListener("open",function(f){c.handleWebSocketOpen(f)}),d.addEventListener("close",function(f){c.handleWebSocketClose(f)}),d.addEventListener("error",function(f){c.handleWebSocketError(f)}),d};b.prototype=this.originalWebSocket.prototype;window.WebSocket=b}},a.prototype.handleWebSocketOpen=
  function(c){try{var b={url:this.getWebSocketUrl(c.target),type:c.type,timestamp:Date.now()}}catch(d){b=c.data}this.trackerMethods.trackCustomEvent({name:"conviva_ws_open",data:b})},a.prototype.handleWebSocketClose=function(c){try{var b={url:this.getWebSocketUrl(c.target),type:c.type,code:c.code,reason:c.reason,wasClean:c.wasClean,timestamp:Date.now()}}catch(d){b=c.data}this.trackerMethods.trackCustomEvent({name:"conviva_ws_close",data:b})},a.prototype.handleWebSocketMessage=function(c){var b;try{(b=
  "string"==typeof c.data?JSON.parse(c.data):c.data).url=this.getWebSocketUrl(c.target)}catch(d){b=c.data}this.trackerMethods.trackCustomEvent({name:"conviva_ws_server",data:b})},a.prototype.handleWebSocketSend=function(c,b){var d;try{(null==(d="string"==typeof c?JSON.parse(c):c)?0:d.user)&&delete d.user,d={data:d,url:this.getWebSocketUrl(b),type:d.type}}catch(e){d={data:c,url:this.getWebSocketUrl(b)}}this.trackerMethods.trackCustomEvent({name:"conviva_ws_send",data:d})},a.prototype.handleWebSocketError=
  function(c){var b,d,e,g,f,h,m;try{var l={url:this.getWebSocketUrl(c.target),type:c.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(c.target),errorMessage:c.message||"WebSocket error occurred",errorType:(null===(b=c.error)||void 0===b?void 0:b.name)||"WebSocketError",errorCode:null===(d=c.error)||void 0===d?void 0:d.code,errorDetails:null===(e=c.error)||void 0===e?void 0:e.message,networkType:(null===(g=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===g?
  void 0:g.type)||"unknown",networkEffectiveType:(null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.effectiveType)||"unknown",networkDownlink:null===(h=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===h?void 0:h.downlink,networkRtt:null===(m=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===m?void 0:m.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(q){l={error:"Failed to process WebSocket error event: ".concat(q instanceof
  Error?q.message:String(q)),timestamp:Date.now(),originalEvent:c}}this.trackerMethods.trackCustomEvent({name:"conviva_ws_error",data:l})},a.prototype.getWebSocketUrl=function(c){try{return c&&"object"===la(c)&&"url"in c?c.url:void 0}catch(b){}},a.prototype.getWebSocketReadyState=function(c){try{return c&&"object"===la(c)&&"readyState"in c?c.readyState:void 0}catch(b){}},a.prototype.addTraceparentHeader=function(c,b,d){var e=null;return H.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(b))&&
  c.setRequestHeader(H.TRACEPARENT_HEADER_KEY,e),e},a.prototype.createRequestDetails=function(c,b,d,e,g){c={method:c,url:b,headers:d,body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};return g&&(c[H.TRACEPARENT_HEADER_KEY]=g),c},a.prototype.normalizeUrl=function(c){try{if("undefined"!=typeof document){var b=URL;if(document.baseURI)var d=document.baseURI;else{var e=document.querySelector("base");d=e&&e.href?e.href:document.location.href}return(new b(c,d)).href}}catch(g){}return c},
  a.prototype.generateTraceparentHeader=function(c){var b,d,e,g,f,h,m,l,q,p,n,y,E,x,z,w,u,r,G,K,O,C,F;try{if(this.core&&c){var N=this.core.getConfig(),P=H.CONFIG_PREFERENCES.MERGE,Q=[];switch((null===(e=null===(d=null===(b=this.trackerConfiguration)||void 0===b?void 0:b.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)?P=H.CONFIG_PREFERENCES.APP:(null===(g=null==N?void 0:N.traceparentconfig)||void 0===g?void 0:g.pref)&&(P=N.traceparentconfig.pref),P){case H.CONFIG_PREFERENCES.APP:if(!1===
  (null===(m=null===(h=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===m?void 0:m.enabled))return"";Q=(null===(p=null===(q=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===q?void 0:q.traceparentGeneration)||void 0===p?void 0:p.targetUrl)||[];break;case H.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(n=null==N?void 0:N.traceparentconfig)||void 0===n?void 0:n.enabled))return"";Q=(null===(y=null==N?void 0:
  N.traceparentconfig)||void 0===y?void 0:y.targetUrl)||[];break;default:if((null==N||!N.traceparentconfig)&&!1===(null===(z=null===(x=null===(E=this.trackerConfiguration)||void 0===E?void 0:E.configs)||void 0===x?void 0:x.traceparentGeneration)||void 0===z?void 0:z.enabled)||(null===(u=null===(w=this.trackerConfiguration)||void 0===w?void 0:w.configs)||void 0===u||!u.traceparentGeneration)&&!1===(null===(r=null==N?void 0:N.traceparentconfig)||void 0===r?void 0:r.enabled))return"";var ia=(null===(O=
  null===(K=null===(G=this.trackerConfiguration)||void 0===G?void 0:G.configs)||void 0===K?void 0:K.traceparentGeneration)||void 0===O?void 0:O.targetUrl)||[],T=(null===(C=null==N?void 0:N.traceparentconfig)||void 0===C?void 0:C.targetUrl)||[],da=new Set(Ea(Ea([],T,!0),ia,!0));Q=Array.from(da)}if(0<Q.length&&(Q.includes("*")||Q.some(function(oa){return 0<(null==oa?void 0:oa.length)&&c.toLowerCase().includes(oa.toLowerCase())}))&&(null===(F=null==N?void 0:N.networkRequestTrackingConfiguration)||void 0===
  F?0:F.enabled)){var U=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),pa=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(U,"-").concat(pa,"-00")}}}catch(oa){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(oa))}return""},a.prototype.updateSSETrackingConfig=function(c){Pa=fa(fa({},Pa),c)},a.prototype.getSSETrackingConfig=function(){return fa({},Pa)},a}(),
  Sa,Gb,dh=function(){function a(c,b,d,e,g){void 0===c&&(c=20);void 0===b&&(b=2E3);void 0===d&&(d=1E3);this.eventMaxLimit=c;this.cooldown=b;this.windowStart=Date.now();this.circuitBreakerUntil=this.eventCount=0;this.breakerPreviouslyOpen=!1;this.droppedCount=0;this.trackerCore=e;this.timeWindow=d;this.getSamplingMode=g}return a.prototype.isAllowedToSendEvent=function(){var c=Date.now();if(c<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=
  !1,Aa(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:va,configAppliedTime:ya}),this.droppedCount=0);return c-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=c,this.eventCount=1),!(this.eventCount>this.eventMaxLimit)||(this.circuitBreakerUntil=c+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1)},a.prototype.updateErrortRateLimitConfig=
  function(c,b,d){this.eventMaxLimit=c;this.cooldown=b;this.timeWindow=d},a}(),Yb,qf=function(a,c){return a.length>c?"".concat(a.slice(0,c-3),"..."):a};!function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";a[a.MERGE=2]="MERGE"}(Yb||(Yb={}));var Lb={},ai=function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]};za.cleanup=function(a){ab(a,function(c){c.clearTimers()});(function(c){if(c)for(var b=0;b<c.length;b++){var d=c[b];Lb.hasOwnProperty(d)?delete Lb[d]:
  ha.warn(d+" not configured")}})(a)};za.convivaAppTracker=function(a){void 0===a&&(a={});try{var c="undefined"!=typeof window?function(){function b(){var f;if(!d.hasLoaded)for(d.hasLoaded=!0,f=0;f<d.registeredOnLoadHandlers.length;f++)d.registeredOnLoadHandlers[f]();return!0}var d=new ai,e=document,g=window;return cb(g,"beforeunload",function(){try{d.bufferFlushers.forEach(function(f){f(!1)})}catch(f){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(f))}},!1),"loading"===
  document.readyState?(e.addEventListener?e.addEventListener("DOMContentLoaded",function h(){e.removeEventListener("DOMContentLoaded",h,!1);b()}):e.attachEvent&&e.attachEvent("onreadystatechange",function m(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",m),b())}),cb(g,"load",b,!1)):b(),d}():void 0;if(c)return function(b,d,e,g,f){return Lb.hasOwnProperty(b)?null:(Lb[b]=fh(b,d,e,g,f),Lb[b])}("CAT","CAT",a.trackerVersionSuffix?"js-".concat("1.2.3"," ").concat(a.trackerVersionSuffix):
  "js-".concat("1.2.3"),c,a)}catch(b){return void console.warn("Conviva App Tracker:: Initialisation failed! "+b)}};za.getClientId=function(){if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var a=window.localStorage.getItem("Conviva.sdkConfig");a=JSON.parse(a||"{}");return"{}"===a||void 0===a?"":a.clId}return""};za.setClientId=function(a){if(a&&"string"==typeof a)try{var c=a.split(".");if(4!==c.length)return void console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');
  if(!1===c.every(function(f){return/^\d+$/.test(f)}))return void console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var b=window.localStorage,d=b.getItem("Conviva.sdkConfig"),e=JSON.parse(d||"{}");"{}"===e||void 0===e?e={clId:a}:e.clId=a;var g=JSON.stringify(e);b.setItem("Conviva.sdkConfig",g)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(f){console.warn(f)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};
  za.setCustomTags=function(a,c){ab(c,function(b){try{b.setCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};za.setCustomUrl=function(a,c){ab(c,function(b){b.setCustomUrl(a)})};za.setDocumentTitle=function(a,c){ab(c,function(b){b.setDocumentTitle(a)})};za.setReferrerUrl=function(a,c){ab(c,function(b){b.setReferrerUrl(a)})};za.setUserId=function(a,c){ab(c,function(b){b.setUserId(a)})};za.trackButtonClick=function(a,c){ab(c,function(b){try{b.trackButtonClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+
  d)}})};za.trackCustomEvent=function(a,c){ab(c,function(b){try{b.trackCustomEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+d)}})};za.trackError=function(a,c){ab(c,function(b){try{b.trackErrorEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track error!")}})};za.trackLinkClick=function(a,c){ab(c,function(b){try{b.trackLinkClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+d)}})};za.trackPageView=function(a,
  c){ab(c,function(b){b.trackPageView(a)})};za.unsetCustomTags=function(a,c){ab(c,function(b){try{b.unsetCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};za.version="1.2.3";Object.defineProperty(za,"__esModule",{value:!0})})
  //# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
  